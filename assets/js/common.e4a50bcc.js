(()=>{var t={838:function(t){t.exports=function(){"use strict";const{entries:t,setPrototypeOf:e,isFrozen:i,getPrototypeOf:n,getOwnPropertyDescriptor:r}=Object;let{freeze:s,seal:a,create:o}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;s||(s=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,i){return t.apply(e,i)}),c||(c=function(t,e){return new t(...e)});const h=S(Array.prototype.forEach),u=S(Array.prototype.pop),d=S(Array.prototype.push),p=S(String.prototype.toLowerCase),m=S(String.prototype.toString),g=S(String.prototype.match),f=S(String.prototype.replace),w=S(String.prototype.indexOf),y=S(String.prototype.trim),b=S(Object.prototype.hasOwnProperty),v=S(RegExp.prototype.test),E=(T=TypeError,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return c(T,e)});var T;function S(t){return function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return l(t,e,n)}}function A(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let s=n.length;for(;s--;){let e=n[s];if("string"==typeof e){const t=r(e);t!==e&&(i(n)||(n[s]=t),e=t)}t[e]=!0}return t}function D(t){for(let e=0;e<t.length;e++)b(t,e)||(t[e]=null);return t}function x(e){const i=o(null);for(const[n,r]of t(e))b(e,n)&&(Array.isArray(r)?i[n]=D(r):r&&"object"==typeof r&&r.constructor===Object?i[n]=x(r):i[n]=r);return i}function M(t,e){for(;null!==t;){const i=r(t,e);if(i){if(i.get)return S(i.get);if("function"==typeof i.value)return S(i.value)}t=n(t)}return function(){return null}}const C=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=s(["#text"]),P=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),I=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),B=a(/<%[\w\W]*|[\w\W]*%>/gm),q=a(/\${[\w\W]*}/gm),H=a(/^data-[\-\w.\u00B7-\uFFFF]/),W=a(/^aria-[\-\w]+$/),z=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=a(/^(?:\w+script|data):/i),G=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$=a(/^html$/i),Y=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var X=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:B,TMPLIT_EXPR:q,DATA_ATTR:H,ARIA_ATTR:W,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:G,DOCTYPE_NAME:$,CUSTOM_ELEMENT:Y});const K=1,J=3,Z=7,Q=8,tt=9,et=function(){return"undefined"==typeof window?null:window};return function e(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();const n=t=>e(t);if(n.version="3.1.6",n.removed=[],!i||!i.document||i.document.nodeType!==tt)return n.isSupported=!1,n;let{document:r}=i;const a=r,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:T,Node:S,Element:D,NodeFilter:j,NamedNodeMap:B=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:q,DOMParser:H,trustedTypes:W}=i,V=D.prototype,G=M(V,"cloneNode"),Y=M(V,"remove"),it=M(V,"nextSibling"),nt=M(V,"childNodes"),rt=M(V,"parentNode");if("function"==typeof T){const t=r.createElement("template");t.content&&t.content.ownerDocument&&(r=t.content.ownerDocument)}let st,at="";const{implementation:ot,createNodeIterator:lt,createDocumentFragment:ct,getElementsByTagName:ht}=r,{importNode:ut}=a;let dt={};n.isSupported="function"==typeof t&&"function"==typeof rt&&ot&&void 0!==ot.createHTMLDocument;const{MUSTACHE_EXPR:pt,ERB_EXPR:mt,TMPLIT_EXPR:gt,DATA_ATTR:ft,ARIA_ATTR:wt,IS_SCRIPT_OR_DATA:yt,ATTR_WHITESPACE:bt,CUSTOM_ELEMENT:vt}=X;let{IS_ALLOWED_URI:Et}=X,Tt=null;const St=A({},[...C,...R,...O,...k,...N]);let At=null;const Dt=A({},[...P,...I,...F,...U]);let xt=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Mt=null,Ct=null,Rt=!0,Ot=!0,Lt=!1,kt=!0,_t=!1,Nt=!0,Pt=!1,It=!1,Ft=!1,Ut=!1,jt=!1,Bt=!1,qt=!0,Ht=!1,Wt=!0,zt=!1,Vt={},Gt=null;const $t=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Yt=null;const Xt=A({},["audio","video","img","source","image","track"]);let Kt=null;const Jt=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml";let ee=te,ie=!1,ne=null;const re=A({},[Zt,Qt,te],m);let se=null;const ae=["application/xhtml+xml","text/html"];let oe=null,le=null;const ce=r.createElement("form"),he=function(t){return t instanceof RegExp||t instanceof Function},ue=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!le||le!==t){if(t&&"object"==typeof t||(t={}),t=x(t),se=-1===ae.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,oe="application/xhtml+xml"===se?m:p,Tt=b(t,"ALLOWED_TAGS")?A({},t.ALLOWED_TAGS,oe):St,At=b(t,"ALLOWED_ATTR")?A({},t.ALLOWED_ATTR,oe):Dt,ne=b(t,"ALLOWED_NAMESPACES")?A({},t.ALLOWED_NAMESPACES,m):re,Kt=b(t,"ADD_URI_SAFE_ATTR")?A(x(Jt),t.ADD_URI_SAFE_ATTR,oe):Jt,Yt=b(t,"ADD_DATA_URI_TAGS")?A(x(Xt),t.ADD_DATA_URI_TAGS,oe):Xt,Gt=b(t,"FORBID_CONTENTS")?A({},t.FORBID_CONTENTS,oe):$t,Mt=b(t,"FORBID_TAGS")?A({},t.FORBID_TAGS,oe):{},Ct=b(t,"FORBID_ATTR")?A({},t.FORBID_ATTR,oe):{},Vt=!!b(t,"USE_PROFILES")&&t.USE_PROFILES,Rt=!1!==t.ALLOW_ARIA_ATTR,Ot=!1!==t.ALLOW_DATA_ATTR,Lt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,_t=t.SAFE_FOR_TEMPLATES||!1,Nt=!1!==t.SAFE_FOR_XML,Pt=t.WHOLE_DOCUMENT||!1,Ut=t.RETURN_DOM||!1,jt=t.RETURN_DOM_FRAGMENT||!1,Bt=t.RETURN_TRUSTED_TYPE||!1,Ft=t.FORCE_BODY||!1,qt=!1!==t.SANITIZE_DOM,Ht=t.SANITIZE_NAMED_PROPS||!1,Wt=!1!==t.KEEP_CONTENT,zt=t.IN_PLACE||!1,Et=t.ALLOWED_URI_REGEXP||z,ee=t.NAMESPACE||te,xt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&he(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&he(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(xt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(Ot=!1),jt&&(Ut=!0),Vt&&(Tt=A({},N),At=[],!0===Vt.html&&(A(Tt,C),A(At,P)),!0===Vt.svg&&(A(Tt,R),A(At,I),A(At,U)),!0===Vt.svgFilters&&(A(Tt,O),A(At,I),A(At,U)),!0===Vt.mathMl&&(A(Tt,k),A(At,F),A(At,U))),t.ADD_TAGS&&(Tt===St&&(Tt=x(Tt)),A(Tt,t.ADD_TAGS,oe)),t.ADD_ATTR&&(At===Dt&&(At=x(At)),A(At,t.ADD_ATTR,oe)),t.ADD_URI_SAFE_ATTR&&A(Kt,t.ADD_URI_SAFE_ATTR,oe),t.FORBID_CONTENTS&&(Gt===$t&&(Gt=x(Gt)),A(Gt,t.FORBID_CONTENTS,oe)),Wt&&(Tt["#text"]=!0),Pt&&A(Tt,["html","head","body"]),Tt.table&&(A(Tt,["tbody"]),delete Mt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');st=t.TRUSTED_TYPES_POLICY,at=st.createHTML("")}else void 0===st&&(st=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let i=null;const n="data-tt-policy-suffix";e&&e.hasAttribute(n)&&(i=e.getAttribute(n));const r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(W,l)),null!==st&&"string"==typeof at&&(at=st.createHTML(""));s&&s(t),le=t}},de=A({},["mi","mo","mn","ms","mtext"]),pe=A({},["foreignobject","annotation-xml"]),me=A({},["title","style","font","a","script"]),ge=A({},[...R,...O,...L]),fe=A({},[...k,..._]),we=function(t){d(n.removed,{element:t});try{rt(t).removeChild(t)}catch(e){Y(t)}},ye=function(t,e){try{d(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){d(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!At[t])if(Ut||jt)try{we(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},be=function(t){let e=null,i=null;if(Ft)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);i=e&&e[0]}"application/xhtml+xml"===se&&ee===te&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const n=st?st.createHTML(t):t;if(ee===te)try{e=(new H).parseFromString(n,se)}catch(t){}if(!e||!e.documentElement){e=ot.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ie?at:n}catch(t){}}const s=e.body||e.documentElement;return t&&i&&s.insertBefore(r.createTextNode(i),s.childNodes[0]||null),ee===te?ht.call(e,Pt?"html":"body")[0]:Pt?e.documentElement:s},ve=function(t){return lt.call(t.ownerDocument||t,t,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},Ee=function(t){return t instanceof q&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof B)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},Te=function(t){return"function"==typeof S&&t instanceof S},Se=function(t,e,i){dt[t]&&h(dt[t],(t=>{t.call(n,e,i,le)}))},Ae=function(t){let e=null;if(Se("beforeSanitizeElements",t,null),Ee(t))return we(t),!0;const i=oe(t.nodeName);if(Se("uponSanitizeElement",t,{tagName:i,allowedTags:Tt}),t.hasChildNodes()&&!Te(t.firstElementChild)&&v(/<[/\w]/g,t.innerHTML)&&v(/<[/\w]/g,t.textContent))return we(t),!0;if(t.nodeType===Z)return we(t),!0;if(Nt&&t.nodeType===Q&&v(/<[/\w]/g,t.data))return we(t),!0;if(!Tt[i]||Mt[i]){if(!Mt[i]&&xe(i)){if(xt.tagNameCheck instanceof RegExp&&v(xt.tagNameCheck,i))return!1;if(xt.tagNameCheck instanceof Function&&xt.tagNameCheck(i))return!1}if(Wt&&!Gt[i]){const e=rt(t)||t.parentNode,i=nt(t)||t.childNodes;if(i&&e)for(let n=i.length-1;n>=0;--n){const r=G(i[n],!0);r.__removalCount=(t.__removalCount||0)+1,e.insertBefore(r,it(t))}}return we(t),!0}return t instanceof D&&!function(t){let e=rt(t);e&&e.tagName||(e={namespaceURI:ee,tagName:"template"});const i=p(t.tagName),n=p(e.tagName);return!!ne[t.namespaceURI]&&(t.namespaceURI===Qt?e.namespaceURI===te?"svg"===i:e.namespaceURI===Zt?"svg"===i&&("annotation-xml"===n||de[n]):Boolean(ge[i]):t.namespaceURI===Zt?e.namespaceURI===te?"math"===i:e.namespaceURI===Qt?"math"===i&&pe[n]:Boolean(fe[i]):t.namespaceURI===te?!(e.namespaceURI===Qt&&!pe[n])&&!(e.namespaceURI===Zt&&!de[n])&&!fe[i]&&(me[i]||!ge[i]):!("application/xhtml+xml"!==se||!ne[t.namespaceURI]))}(t)?(we(t),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!v(/<\/no(script|embed|frames)/i,t.innerHTML)?(_t&&t.nodeType===J&&(e=t.textContent,h([pt,mt,gt],(t=>{e=f(e,t," ")})),t.textContent!==e&&(d(n.removed,{element:t.cloneNode()}),t.textContent=e)),Se("afterSanitizeElements",t,null),!1):(we(t),!0)},De=function(t,e,i){if(qt&&("id"===e||"name"===e)&&(i in r||i in ce))return!1;if(Ot&&!Ct[e]&&v(ft,e));else if(Rt&&v(wt,e));else if(!At[e]||Ct[e]){if(!(xe(t)&&(xt.tagNameCheck instanceof RegExp&&v(xt.tagNameCheck,t)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(t))&&(xt.attributeNameCheck instanceof RegExp&&v(xt.attributeNameCheck,e)||xt.attributeNameCheck instanceof Function&&xt.attributeNameCheck(e))||"is"===e&&xt.allowCustomizedBuiltInElements&&(xt.tagNameCheck instanceof RegExp&&v(xt.tagNameCheck,i)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(i))))return!1}else if(Kt[e]);else if(v(Et,f(i,bt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==w(i,"data:")||!Yt[t])if(Lt&&!v(yt,f(i,bt,"")));else if(i)return!1;return!0},xe=function(t){return"annotation-xml"!==t&&g(t,vt)},Me=function(t){Se("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:At};let r=e.length;for(;r--;){const s=e[r],{name:a,namespaceURI:o,value:l}=s,c=oe(a);let d="value"===a?l:y(l);if(i.attrName=c,i.attrValue=d,i.keepAttr=!0,i.forceKeepAttr=void 0,Se("uponSanitizeAttribute",t,i),d=i.attrValue,Nt&&v(/((--!?|])>)|<\/(style|title)/i,d)){ye(a,t);continue}if(i.forceKeepAttr)continue;if(ye(a,t),!i.keepAttr)continue;if(!kt&&v(/\/>/i,d)){ye(a,t);continue}_t&&h([pt,mt,gt],(t=>{d=f(d,t," ")}));const p=oe(t.nodeName);if(De(p,c,d)){if(!Ht||"id"!==c&&"name"!==c||(ye(a,t),d="user-content-"+d),st&&"object"==typeof W&&"function"==typeof W.getAttributeType)if(o);else switch(W.getAttributeType(p,c)){case"TrustedHTML":d=st.createHTML(d);break;case"TrustedScriptURL":d=st.createScriptURL(d)}try{o?t.setAttributeNS(o,a,d):t.setAttribute(a,d),Ee(t)?we(t):u(n.removed)}catch(t){}}}Se("afterSanitizeAttributes",t,null)},Ce=function t(e){let i=null;const n=ve(e);for(Se("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)Se("uponSanitizeShadowNode",i,null),Ae(i)||(i.content instanceof c&&t(i.content),Me(i));Se("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,r=null,s=null,o=null;if(ie=!t,ie&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Te(t)){if("function"!=typeof t.toString)throw E("toString is not a function");if("string"!=typeof(t=t.toString()))throw E("dirty is not a string, aborting")}if(!n.isSupported)return t;if(It||ue(e),n.removed=[],"string"==typeof t&&(zt=!1),zt){if(t.nodeName){const e=oe(t.nodeName);if(!Tt[e]||Mt[e])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof S)i=be("\x3c!----\x3e"),r=i.ownerDocument.importNode(t,!0),r.nodeType===K&&"BODY"===r.nodeName||"HTML"===r.nodeName?i=r:i.appendChild(r);else{if(!Ut&&!_t&&!Pt&&-1===t.indexOf("<"))return st&&Bt?st.createHTML(t):t;if(i=be(t),!i)return Ut?null:Bt?at:""}i&&Ft&&we(i.firstChild);const l=ve(zt?t:i);for(;s=l.nextNode();)Ae(s)||(s.content instanceof c&&Ce(s.content),Me(s));if(zt)return t;if(Ut){if(jt)for(o=ct.call(i.ownerDocument);i.firstChild;)o.appendChild(i.firstChild);else o=i;return(At.shadowroot||At.shadowrootmode)&&(o=ut.call(a,o,!0)),o}let u=Pt?i.outerHTML:i.innerHTML;return Pt&&Tt["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&v($,i.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+u),_t&&h([pt,mt,gt],(t=>{u=f(u,t," ")})),st&&Bt?st.createHTML(u):u},n.setConfig=function(){ue(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),It=!0},n.clearConfig=function(){le=null,It=!1},n.isValidAttribute=function(t,e,i){le||ue({});const n=oe(t),r=oe(e);return De(n,r,i)},n.addHook=function(t,e){"function"==typeof e&&(dt[t]=dt[t]||[],d(dt[t],e))},n.removeHook=function(t){if(dt[t])return u(dt[t])},n.removeHooks=function(t){dt[t]&&(dt[t]=[])},n.removeAllHooks=function(){dt={}},n}()}()},644:t=>{"use strict";var e=Array.prototype,i=Object.prototype,n={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},r=/[&"'<>\\]/g,s=t.exports={};function a(t,e){return i.hasOwnProperty.call(t,e)}function o(t){return n[t]}function l(t,e,i){var n,r,s;if(t instanceof Error&&(t=(r=t).name+": "+r.message),Object.setPrototypeOf?(n=new Error(t),Object.setPrototypeOf(n,l.prototype)):(n=this,Object.defineProperty(n,"message",{enumerable:!1,writable:!0,value:t})),Object.defineProperty(n,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(n,this.constructor),r){var a=Object.getOwnPropertyDescriptor(r,"stack");(s=a&&(a.get||function(){return a.value}))||(s=function(){return r.stack})}else{var o=new Error(t).stack;s=function(){return o}}return Object.defineProperty(n,"stack",{get:function(){return s.call(n)}}),Object.defineProperty(n,"cause",{value:r}),n.lineno=e,n.colno=i,n.firstUpdate=!0,n.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},n}function c(t){return"[object Function]"===i.toString.call(t)}function h(t){return"[object Array]"===i.toString.call(t)}function u(t){return"[object String]"===i.toString.call(t)}function d(t){return"[object Object]"===i.toString.call(t)}function p(t){var e,i=(e=t)?"string"==typeof e?e.split("."):[e]:[];return function(t){for(var e=t,n=0;n<i.length;n++){var r=i[n];if(!a(e,r))return;e=e[r]}return e}}function m(t){return Array.prototype.slice.call(t)}function g(t,e,i){return Array.prototype.indexOf.call(t||[],e,i)}function f(t){var e=[];for(var i in t)a(t,i)&&e.push(i);return e}s.hasOwnProp=a,s._prettifyError=function(t,e,i){if(i.Update||(i=new s.TemplateError(i)),i.Update(t),!e){var n=i;(i=new Error(n.message)).name=n.name}return i},Object.setPrototypeOf?Object.setPrototypeOf(l.prototype,Error.prototype):l.prototype=Object.create(Error.prototype,{constructor:{value:l}}),s.TemplateError=l,s.escape=function(t){return t.replace(r,o)},s.isFunction=c,s.isArray=h,s.isString=u,s.isObject=d,s.getAttrGetter=p,s.groupBy=function(t,e,i){for(var n={},r=c(e)?e:p(e),s=0;s<t.length;s++){var a=t[s],o=r(a,s);if(void 0===o&&!0===i)throw new TypeError('groupby: attribute "'+e+'" resolved to undefined');(n[o]||(n[o]=[])).push(a)}return n},s.toArray=m,s.without=function(t){var e=[];if(!t)return e;for(var i=t.length,n=m(arguments).slice(1),r=-1;++r<i;)-1===g(n,t[r])&&e.push(t[r]);return e},s.repeat=function(t,e){for(var i="",n=0;n<e;n++)i+=t;return i},s.each=function(t,i,n){if(null!=t)if(e.forEach&&t.forEach===e.forEach)t.forEach(i,n);else if(t.length===+t.length)for(var r=0,s=t.length;r<s;r++)i.call(n,t[r],r,t)},s.map=function(t,i){var n=[];if(null==t)return n;if(e.map&&t.map===e.map)return t.map(i);for(var r=0;r<t.length;r++)n[n.length]=i(t[r],r);return t.length===+t.length&&(n.length=t.length),n},s.asyncIter=function(t,e,i){var n=-1;!function r(){++n<t.length?e(t[n],n,r,i):i()}()},s.asyncFor=function(t,e,i){var n=f(t||{}),r=n.length,s=-1;!function a(){s++;var o=n[s];s<r?e(o,t[o],s,r,a):i()}()},s.indexOf=g,s.keys=f,s._entries=function(t){return f(t).map((function(e){return[e,t[e]]}))},s._values=function(t){return f(t).map((function(e){return t[e]}))},s._assign=s.extend=function(t,e){return t=t||{},f(e).forEach((function(i){t[i]=e[i]})),t},s.inOperator=function(t,e){if(h(e)||u(e))return-1!==e.indexOf(t);if(d(e))return t in e;throw new Error('Cannot use "in" operator to search for "'+t+'" in unexpected types.')}},467:(t,e,i)=>{"use strict";var n=i(644),r=Array.from,s="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof r,a=function(){function t(t,e){this.variables=Object.create(null),this.parent=t,this.topLevel=!1,this.isolateWrites=e}var e=t.prototype;return e.set=function(t,e,i){var n=t.split("."),r=this.variables,s=this;if(i&&(s=this.resolve(n[0],!0)))s.set(t,e);else{for(var a=0;a<n.length-1;a++){var o=n[a];r[o]||(r[o]={}),r=r[o]}r[n[n.length-1]]=e}},e.get=function(t){var e=this.variables[t];return void 0!==e?e:null},e.lookup=function(t){var e=this.parent,i=this.variables[t];return void 0!==i?i:e&&e.lookup(t)},e.resolve=function(t,e){var i=e&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[t]?this:i&&i.resolve(t)},e.push=function(e){return new t(this,e)},e.pop=function(){return this.parent},t}();function o(t){return t&&Object.prototype.hasOwnProperty.call(t,"__keywords")}function l(t){var e=t.length;return 0===e?0:o(t[e-1])?e-1:e}function c(t){if("string"!=typeof t)return t;this.val=t,this.length=t.length}c.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),c.prototype.valueOf=function(){return this.val},c.prototype.toString=function(){return this.val},t.exports={Frame:a,makeMacro:function(t,e,i){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var a,c=l(r),h=function(t){var e=t.length;if(e){var i=t[e-1];if(o(i))return i}return{}}(r);if(c>t.length)a=r.slice(0,t.length),r.slice(a.length,c).forEach((function(t,i){i<e.length&&(h[e[i]]=t)})),a.push(h);else if(c<t.length){a=r.slice(0,c);for(var u=c;u<t.length;u++){var d=t[u];a.push(h[d]),delete h[d]}a.push(h)}else a=r;return i.apply(this,a)}},makeKeywordArgs:function(t){return t.__keywords=!0,t},numArgs:l,suppressValue:function(t,e){return t=null!=t?t:"",!e||t instanceof c||(t=n.escape(t.toString())),t},ensureDefined:function(t,e,i){if(null==t)throw new n.TemplateError("attempted to output null or undefined value",e+1,i+1);return t},memberLookup:function(t,e){if(null!=t)return"function"==typeof t[e]?function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t[e].apply(t,n)}:t[e]},contextOrFrameLookup:function(t,e,i){var n=e.lookup(i);return void 0!==n?n:t.lookup(i)},callWrap:function(t,e,i,n){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(i,n)},handleError:function(t,e,i){return t.lineno?t:new n.TemplateError(t,e,i)},isArray:n.isArray,keys:n.keys,SafeString:c,copySafeness:function(t,e){return t instanceof c?new c(e):e.toString()},markSafe:function(t){var e=typeof t;return"string"===e?new c(t):"function"!==e?t:function(e){var i=t.apply(this,arguments);return"string"==typeof i?new c(i):i}},asyncEach:function(t,e,i,r){if(n.isArray(t)){var s=t.length;n.asyncIter(t,(function(t,n,r){switch(e){case 1:i(t,n,s,r);break;case 2:i(t[0],t[1],n,s,r);break;case 3:i(t[0],t[1],t[2],n,s,r);break;default:t.push(n,s,r),i.apply(this,t)}}),r)}else n.asyncFor(t,(function(t,e,n,r,s){i(t,e,n,r,s)}),r)},asyncAll:function(t,e,i,r){var s,a,o=0;function l(t,e){o++,a[t]=e,o===s&&r(null,a.join(""))}if(n.isArray(t))if(s=t.length,a=new Array(s),0===s)r(null,"");else for(var c=0;c<t.length;c++){var h=t[c];switch(e){case 1:i(h,c,s,l);break;case 2:i(h[0],h[1],c,s,l);break;case 3:i(h[0],h[1],h[2],c,s,l);break;default:h.push(c,s,l),i.apply(this,h)}}else{var u=n.keys(t||{});if(s=u.length,a=new Array(s),0===s)r(null,"");else for(var d=0;d<u.length;d++){var p=u[d];i(p,t[p],d,s,l)}}},inOperator:n.inOperator,fromIterator:function(t){return"object"!=typeof t||null===t||n.isArray(t)?t:s&&Symbol.iterator in t?r(t):t}}},38:(t,e,i)=>{"use strict";i(467).SafeString;e.oq=function(t,e){return t===e},e.oq,e.oq,e.Qq=function(t,e){return t>e},e.Qq,e.xR=function(t,e){return t<e},e.xR}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}(()=>{"use strict";const t={setStatus(t){const e=this.getStatuses();if(!Array.prototype.includes.call(e,t))throw new Error(`Invalid status: ${t}`);if(this["#status"]!==t&&this.triggerEvent){const e={id:"status",status:t};this.triggerEvent(e,e,this)}return this["#status"]=t,this},getStatus(){return this["#status"]||this.getStatuses()[0]}};function e(t,e){let i=null;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>{t(...n)}),e)}}const n={registerListener(t,e){const i="object"==typeof t?t.id:t;return this["#eventListeners"]||={},this["#eventListeners"][i]||=[],this["#eventListeners"][i].push(e),this},triggerEvent(t,...e){const i="object"==typeof t?t.id:t;((this["#eventListeners"]||{})[i]||[]).forEach((i=>i.apply(t,e)))}};class r extends Map{synchroniseDimensions(){this.forEach((t=>t.synchroniseDimensions()))}render(){this.forEach((t=>t.render()))}last(){if(0!==this.size)return Array.from(this.entries())[this.size-1][1]}}class s{r;g;b;a;constructor(t,e,i,n){this.r=t,this.g=e,this.b=i,this.a=n}}function a(t,e,i){i||=t=>t;const n=Math.ceil(t),r=Math.floor(e);return Math.floor(i(Math.random())*(r-n+1)+n)}function o(){let t="0b";for(let e=0;e<8;++e)t+=a(0,1);return Number(t)}function l(t){return Number(t)===t}function c(t,e,i){return Math.min(Math.max(t,e),i)}function h(t){return t*t}const u=2*Math.PI;class d{distance;angle;constructor(t,e){this.distance=t,this.angle=e}applyToPoint(t,e){return e=l(e)?e:1,new w(t.x+Math.cos(this.angle.asRadians().value())*this.distance*e,t.y+Math.sin(this.angle.asRadians().value())*this.distance*e)}toString(){return"->("+this.distance.toFixed(3)+","+this.angle.toString()+")"}}class p{#t;#e;static createFromPoints(t,e){return new p(new d(t.distanceToPoint(e),t.angleToPoint(e)),t)}constructor(t,e){this.#e=t,this.#t=e}start(){return this.#t}end(t){return t=l(t)?t:1,this.#e.applyToPoint(this.#t,t)}angle(){return this.#e.angle}getInverted(){return new p(new d(this.#e.distance,this.#e.angle.flip()),this.end(1))}toString(){return this.start().toString()+this.#e.toString()}}class m{constructor(){if(this.constructor===m)throw new Error("Abstract classes can't be instantiated.")}asRadians(){throw new Error("Method 'asRadians()' must be implemented.")}asDegrees(){throw new Error("Method 'asDegrees()' must be implemented.")}value(){throw new Error("Method 'value()' must be implemented.")}flip(){throw new Error("Method 'flip()' must be implemented.")}equals(){throw new Error("Method 'equals()' must be implemented.")}lessThanOrEqualTo(t){throw new Error("Method 'lessThanOrEqualTo()' must be implemented.")}add(t){throw new Error("Method 'add()' must be implemented.")}subtract(t){throw new Error("Method 'subtract()' must be implemented.")}withinSectorCentredOn(t,e){return t.subtract(e).lessThanOrEqualTo(this)&&this.lessThanOrEqualTo(t.add(e))}toString(){throw new Error("Method 'toString()' must be implemented.")}}class g extends m{#i;static fromRadians(t){if(!t instanceof f&&!l(t))throw new Error("Degrees must be Radians or a number.");const e=t instanceof f?t.piCoefficient:t/Math.PI;return new g(e/2*360)}constructor(t){super(),this.#i=t,this.#i>360&&(this.#i=this.#i%360),this.#i<0&&(this.#i=360-this.#i)}asRadians(){return f.fromDegrees(this)}asDegrees(){return this}value(){return this.#i}flip(){return new g(this.#i+180)}equals(t){return t.asDegrees().value()===this.value()}lessThanOrEqualTo(t){return this.#i<=t.asDegrees().value()}add(t){return new g(this.#i+t.asDegrees().value())}subtract(t){return new g(this.#i-t.asDegrees().value())}toString(){return this.value().toFixed(2)+"deg"}}class f extends m{piCoefficient;static fromDegrees(t){if(!t instanceof g&&!l(t))throw new Error("Degrees must be Degrees or a Number.");const e=t instanceof g?t.value():t;return new f(e/360*2)}static fromValue(t){return new f(t/Math.PI)}constructor(t){super(),this.piCoefficient=t,this.piCoefficient>2&&(this.piCoefficient=this.piCoefficient%2),this.piCoefficient<0&&(this.piCoefficient=2+this.piCoefficient)}asRadians(){return this}asDegrees(){return g.fromRadians(this)}value(){return this.piCoefficient*Math.PI}flip(){return new f(this.piCoefficient+1)}equals(t){return t.asRadians().piCoefficient===this.piCoefficient}lessThanOrEqualTo(t){return this.piCoefficient<=t.asRadians().piCoefficient}add(t){return new f(this.piCoefficient+t.asRadians().piCoefficient)}subtract(t){return new f(this.piCoefficient-t.asRadians().piCoefficient)}toString(){return this.piCoefficient.toFixed(4)+"πrad"}}class w{x=0;y=0;constructor(t,e){this.x=t,this.y=e}add(t,e){return new w(this.x+t,this.y+e)}move(t,e){return new p(new d(t,e),this).end(1)}equalsFuzzy(t,e){return e=l(e)?e:2,this.x>=t.x-e&&this.x<=t.x+e&&this.y>=t.y-e&&this.y<=t.y+e||t.x>=this.x-e&&t.x<=this.x+e&&t.y>=this.y-e&&t.y<=this.y+e}equals(t){return this.x===t.x&&this.y===t.y}floor(){return new w(Math.floor(this.x),Math.floor(this.y))}round(){return new w(Math.round(this.x),Math.round(this.y))}angleToPoint(t){return f.fromValue(Math.atan2(t.y-this.y,t.x-this.x))}angleFromPoint(t){return f.fromValue(Math.atan2(this.y-t.y,this.x-t.x))}distanceToPoint(t){return Math.sqrt(h(this.x-t.x)+h(this.y-t.y))}projectsOntoLineAt(t){const e=t.length();if(0==e)return t.startPoint;let i=((this.x-t.startPoint.x)*(t.endPoint.x-t.startPoint.x)+(this.y-t.startPoint.y)*(t.endPoint.y-t.startPoint.y))/h(e);return i=c(0,i,1),new w(t.startPoint.x+i*(t.endPoint.x-t.startPoint.x),t.startPoint.y+i*(t.endPoint.y-t.startPoint.y))}distanceToLine(t){return this.distanceToPoint(this.projectsOntoLineAt(t))}toString(){return"["+this.x.toFixed(3)+","+this.y.toFixed(3)+"]"}}class y extends Map{#n;#r;#s;#a;delete(t){throw new Error("Cannot delete pixels from Pixel Map.")}get(t){if(!t instanceof w)throw new Error("PixelMap key must be Point2D");return super.get(t)}has(t){if(!t instanceof w)throw new Error("PixelMap key must be Point2D");return super.has(t)}set(t,e){if(!t instanceof w)throw new Error("PixelMap key must be Point2D");if(!e instanceof s)throw new Error("PixelMap value must be PixelData");return(void 0===this.#n||t.x<this.#n)&&(this.#n=t.x),(void 0===this.#r||t.y<this.#r)&&(this.#r=t.y),(void 0===this.#s||t.x>this.#s)&&(this.#s=t.x),(void 0===this.#a||t.y>this.#a)&&(this.#a=t.y),super.set(t,e)}writeToCanvas(t){if(void 0===this.#n)return;const e=this.#s-this.#n+1,i=this.#a-this.#r+1,n=t.getContext("2d").getImageData(this.#n,this.#r,e,i);Array.from(this.entries()).forEach((([t,i])=>{const r=4*((t.y-this.#r)*e+(t.x-this.#n));n.data[r]=i.r,n.data[r+1]=i.g,n.data[r+2]=i.b,n.data[r+3]=i.a})),t.getContext("2d").putImageData(n,this.#n,this.#r)}}class b{#o;#l=new y;synchroniseDimensions(){throw new Error("Method 'synchroniseDimensions()' must be implemented.")}getContext(t){throw new Error("Method 'getContext()' must be implemented.")}getVisibleRect(){throw new Error("Method 'getVisibleRect()' must be implemented.")}getMaximumPossibleRect(){throw new Error("Method 'getMaximumPossibleRect()' must be implemented.")}hide(){throw new Error("Method 'hide()' must be implemented.")}show(){throw new Error("Method 'show()' must be implemented.")}applyCanvasStyle(t){t&&t!==this.#o&&(this.#o=t,t.applyToCanvas(this))}registerPixelToWrite(t,e){return this.#l.set(t,e),this}renderPixelsToWrite(){return this.#l&&this.#l.writeToCanvas(this),this.#l=new y,this}render(){throw this.renderPixelsToWrite(),new Error("Method 'render()' must be implemented.")}destroy(){throw new Error("Method 'destroy()' must be implemented.")}}class v{x;y;width;height;constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}topLeft(){return new w(this.x,this.y)}topRight(){return new w(this.x+this.width,this.y)}bottomRight(){return new w(this.x+this.width,this.y+this.height)}bottomLeft(){return new w(this.x,this.y+this.height)}pad(t){return new v(this.x-t,this.y-t,this.width+t,this.height+t)}containsPoint(t){const e=this.topLeft(),i=this.bottomRight();return e.x<=t.x&&e.y<=t.y&&t.x<=i.x&&t.y<=i.y}containsRect(t){const e=this.topLeft(),i=t.topLeft(),n=this.bottomRight(),r=t.bottomRight();return e.x<i.x&&e.y<i.y&&n.x>r.x&&n.y>r.y}isEqualTo(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}}class E{getValue(t){throw new Error("Must implement getValue() method.")}}class T{#c;#h;static createIdentity(){return new T(1,1)}constructor(t,e){this.#c=t,this.#h=void 0===e?t:e}scaleX(t){return t*this.#u(this.#c)}scaleY(t){return t*this.#u(this.#h)}#u(t){return t instanceof E?t.getValue():"function"==typeof t?t():t}}i(38);class S extends b{#d;backRect;placer;scaler;frontCanvasElement;#p;frontRect;#m=!1;#g={};constructor(t,e,i,n,r,s){super(),this.placer=r,this.scaler=s||T.createIdentity(),this.#d=this.#f(i,n),this.backRect=new v(0,0,i,n),this.frontCanvasElement=new WeakRef(t),this.#p=new WeakRef(e),this.placer.initialize(e,t),this.synchroniseDimensions()}#f(t,e){if(window.OffscreenCanvas)return new OffscreenCanvas(t,e);{const i=document.createElement("canvas");return i.width=t,i.height=e,i}}synchroniseDimensions(){const t=this.#p.deref(),e=this.frontCanvasElement.deref();if(!t||!e)return;const i=this.placer.place(t,e,this.scaler);this.frontRect&&this.frontRect.isEqualTo(i)||(this.frontRect=i,this.render())}getContext(t){return this.#g[t]||(this.#g[t]=this.#d.getContext(t,{willReadFrequently:!0})),this.#g[t]}getClipRect(){return this.placer.getRectForDimensions(this.backRect,this.frontRect.width,this.frontRect.height,this.scaler)}getVisibleRect(){return this.getClipRect()}getMaximumPossibleRect(){return this.backRect}hide(){return this.#m=!0,this}show(){return this.#m=!1,this}render(){this.renderPixelsToWrite();const t=this.frontCanvasElement.deref();if(!t)return;const e=t.getContext("2d");if(e.clearRect(0,0,this.frontRect.width,this.frontRect.height),this.#m)return;const i=this.getClipRect();e.drawImage(this.#d,i.x,i.y,i.width,i.height,0,0,this.frontRect.width,this.frontRect.height)}destroy(){const t=this.frontCanvasElement.deref();t&&t.remove()}}class A{layers;#w;#y;#b;#v;#E;static get EVENT__DISABLE(){return"disable"}static get EVENT__REBOOT(){return"reboot"}static get EVENT__SKIP(){return"skip"}static get EVENT__RESIZE(){return"resize"}constructor(t,i){this.layers=new r,this.#w=new WeakRef(t),this.#y=new WeakRef(i),this.#b=Math.max(window.screen.width||0,window.innerWidth,i.getBoundingClientRect().width),this.#v=Math.max(window.screen.height||0,window.innerHeight,i.getBoundingClientRect().height),window.addEventListener("rebootAnimations",(()=>this.triggerEvent(A.EVENT__REBOOT,this))),window.addEventListener("skipAnimations",(()=>this.triggerEvent(A.EVENT__SKIP,this))),window.addEventListener("da",(()=>this.triggerEvent(A.EVENT__DISABLE,this))),this.#E=window.innerWidth,window.addEventListener("resize",e(this.#T.bind(this),250)),this.#T()}#T(){this.#E!==window.innerWidth?(this.#E=window.innerWidth,this.triggerEvent(A.EVENT__REBOOT,this)):(this.layers.synchroniseDimensions(),this.triggerEvent(A.EVENT__RESIZE,this))}reboot(){const t=this.layers;this.layers=new r,t.forEach((t=>{t.destroy()}),this),t.forEach(((t,e)=>{this.createLayer(e,t.placer,t.scaler)}),this)}getParentElement(){return this.#w.deref()}createLayer(t,e,i){if(this.layers.has(t))return this.layers.get(t);const n=this.#w.deref(),r=this.#y.deref();if(!n||!r)throw new Error("Unable to create layer, parent Element no longer exists.");const s=new S(this.#S(n,t),r,this.#b,this.#v,e,i);return this.layers.set(t,s),s}#S(t,e){const i=document.createElement("canvas");return i.classList.add("top"),i.classList.add(e),0===this.layers.size?t.prepend(i):this.layers.last().frontCanvasElement.deref().after(i),i}render(){return this.layers.render(),this}}Object.assign(A.prototype,n);class D{#A;#D;#t;#x;#M;static get STATUS__INITIAL(){return"initial"}static get STATUS__STARTED(){return"started"}static get STATUS__WAITING(){return"waiting"}static get STATUS__STOPPED(){return"stopped"}constructor(t){this.#A=t,this.#A.canvasManager.registerListener(A.EVENT__DISABLE,this.#C.bind(this)),this.#A.canvasManager.registerListener(A.EVENT__RESIZE,this.#C.bind(this)),this.#A.canvasManager.registerListener(A.EVENT__REBOOT,this.#C.bind(this)),this.#A.canvasManager.registerListener(A.EVENT__SKIP,this.#R.bind(this))}getStatuses(){return[D.STATUS__INITIAL,D.STATUS__STARTED,D.STATUS__WAITING,D.STATUS__STOPPED]}#C(){this.getStatus()===D.STATUS__WAITING&&this.start()}#R(){this.#M=4}start(){this.setStatus(D.STATUS__STARTED),this.#M=1,this.#D||(this.#t=void 0,this.#x=void 0,this.#D=window.requestAnimationFrame(this.#O.bind(this)))}stop(){this.setStatus(D.STATUS__STOPPED),this.#D&&(window.cancelAnimationFrame(this.#D),this.#D=void 0,this.#M=1,this.#x=void 0,this.#t=void 0)}#O(t){void 0===this.#t&&(this.#t=t),t=this.#t+this.#M*(t-this.#t);let e=!0;if(this.#x!==t){const i=t-this.#t,n=void 0===this.#x?0:t-this.#x;e=this.#A.drawFrame(i,n)}if(this.#x=t,!e)return this.setStatus(D.STATUS__WAITING),void(this.#D=void 0);this.#D=window.requestAnimationFrame(this.#O.bind(this))}}Object.assign(D.prototype,t);class x extends Map{layerId;#L;constructor(t,e){super(e),this.layerId=t,this.#L=new Map}addNib(t){return this.set(t.toString(),t)}set(t,e){return null===e?(super.delete(t),this.#L.set(t,!0),this):(super.set(t,e),this)}hasInNullMap(t){return this.#L.has(t)}hasActive(){return Array.from(this).some((([t,e])=>e&&e.isActive()))}tick(t,e,i){this.forEach((n=>n&&n.tick(t,this,e,i)))}}function M(t,e){const i=new Map;let n=0;return t.forEach((t=>{const r=e(t,n++);i.has(r)?i.get(r).push(t):i.set(r,[t])})),i}const C={includes(t,e){return(this[this.itemsProperty()]||[]).includes(t,e)},indexOf(t,e){return(this[this.itemsProperty()]||[]).indexOf(t,e)},filter(t,e){return(this[this.itemsProperty()]||[]).filter(t,e)},find(t,e){return(this[this.itemsProperty()]||[]).find(t,e)},findIndex(t,e){return(this[this.itemsProperty()]||[]).findIndex(t,e)},forEach(t,e){(this[this.itemsProperty()]||[]).forEach(t,e)},groupBy(t){return M(this[this.itemsProperty()]||[],t)},map(t,e){return(this[this.itemsProperty()]||[]).map(t,e)},push(...t){return this[this.itemsProperty()]||=[],this[this.itemsProperty()].push(...t),this},some(t,e){return(this[this.itemsProperty()]||[]).some(t,e)},splice(t,e,...i){return(this[this.itemsProperty()]||[]).splice(t,e,...i)},unshift(...t){return this[this.itemsProperty()]||=[],this[this.itemsProperty()].unshift(...t),this},deleteItem(t){const e=this.indexOf(t);return-1===e||this.splice(e,1),this},size(){return(this[this.itemsProperty()]||[]).length},getAll(){return this[this.itemsProperty()]||[]}},R={getUniqueTags(){return[...new Set((this[this.itemsProperty()]||[]).reduce(((t,e)=>t.concat(e.getTags())),[]))]},filterByTag(t){return(this[this.itemsProperty()]||[]).filter((e=>e.hasTag(t)))},filterByNotTag(t){return(this[this.itemsProperty()]||[]).filter((e=>!e.hasTag(t)))},filterByNoTags(){return(this[this.itemsProperty()]||[]).filter((t=>0===t.getTags().length))},findWithTag(t){return(this[this.itemsProperty()]||[]).find((e=>e.hasTag(t)))},forEachWithTag(t,e,i){return this.filterByTag(t).forEach(e,i),this},forEachWithoutTag(t,e,i){return this.filterByNotTag(t).forEach(e,i),this},forEachUntagged(t,e){return this.filterByNoTags().forEach(t,e),this},someWithTag(t){return(this[this.itemsProperty()]||[]).some((e=>e.hasTag(t)))},tagAll(t){return this.forEach((e=>e.addTag(t))),this},untagAll(t){return this.forEach((e=>e.untag(t))),this}};class O{layerId;constructor(t,e){this.layerId=t,e&&(this["#items"]=e)}itemsProperty(){return"#items"}filterCanDraw(t){return new O(this.layerId,this.filter((e=>e.canDraw(t))))}pickNoMoreThanNDrawable(t,e){return new O(this.layerId,function(t,e){return t.length<=e?t:t.slice(0,e)}(this.filter((t=>t.canDraw(e))),t))}someCanDraw(t){return this.some((e=>e.canDraw(t)))}}Object.assign(O.prototype,C),Object.assign(O.prototype,R);class L{canvasStyler;getRenderTags(){return[]}setCanvasStyler(t){return this.canvasStyler=t,this}applyCanvasStyle(t){if(this.canvasStyler)return t.applyCanvasStyle(this.canvasStyler),this}draw(t,e,i){throw new Error("Implement draw().")}}class k extends L{rect;clear;constructor(t,e){super(),this.rect=t,this.clear=!!e}draw(t,e,i){this.applyCanvasStyle(i),i.getContext("2d")[this.clear?"clearRect":"strokeRect"](this.rect.x,this.rect.y,this.rect.width,this.rect.height)}}const _={addTag(t){return this["#tags"]||={},this["#tags"][t]=1,this},getTags(){return this["#tags"]||={},Object.keys(this["#tags"])},hasTag(t){return this["#tags"]||={},1===this["#tags"][t]},untag(t){return this["#tags"]||={},delete this["#tags"][t],this}};class N{#k;#_;#N;drawer;#P;#I=!1;#F;constructor(t,e,i,n){this.#k=t,this.#_=e,this.#N=t+e,this.#F=t,this.drawer=i,this.#P=n||(t=>t),this.drawer.getRenderTags().forEach((t=>this.addTag(t)))}static get EVENT__FINISHED(){return"finished"}canDraw(t){return this.isActive()&&this.#F<t}draw(t,e){if(this.isActive()){if(this.#F<t){const i=(this.#F-this.#k)/this.#_,n=(Math.min(t,this.#N)-this.#k)/this.#_;this.drawer.draw(this.#P(i),this.#P(n),e),this.#F=t}this.#F>=this.#N&&!this.#I&&(this.#I=!0,this.triggerEvent(N.EVENT__FINISHED,t,t-this.#N,this))}}isActive(){return this.#F<this.#N}}Object.assign(N.prototype,n),Object.assign(N.prototype,_);class P{drawer;#U=!1;constructor(t){this.drawer=t,this.drawer.getRenderTags().forEach((t=>this.addTag(t)))}static get EVENT__FINISHED(){return"finished"}canDraw(t){return!this.#U}draw(t,e){this.#U||(this.#U=!0,this.drawer.draw(0,1,e),this.triggerEvent(P.EVENT__FINISHED,t,0,this))}isActive(){return!this.#U}}Object.assign(P.prototype,n),Object.assign(P.prototype,_);class I{id;canvasManager;nibMap;drawerList;constructor(t,e,i,n){this.id=t,this.canvasManager=e,this.canvasManager.createLayer(this.id,i,n),this.nibMap=new x(this.id),this.drawerList=new O(this.id)}reboot(){return this.nibMap=new x(this.id),this.drawerList=new O(this.id),this}clear(){return this.drawerList.push(new P(new k(this.getCanvas().backRect,!0)).registerListener(N.EVENT__FINISHED,((t,e,i)=>{this.drawerList.deleteItem(i)}))),this}getCanvas(){return this.canvasManager.layers.get(this.id)}hasActiveAnimation(){return(this.drawerList.size()>0||this.nibMap.hasActive())&&this.drawerList.size()<1e4}}class F extends Map{add(t,e,i,n){const r=new I(t,e,i,n);return this.set(t,r),r}hasActiveAnimation(){let t=!1;return this.forEach((e=>t||=e.hasActiveAnimation())),t}reboot(){return this.forEach((t=>t.reboot())),this}}class U{canvasManager;layers;#j=!1;#B=!1;#q=!1;#H=-1;#W;#z;#V;#G;static get FRAME_TIMEOUT(){return 1/0}static get FRAME_DELAY_TOLERANCE(){return 200}static get DRAWERS_PER_FRAME_LIMIT(){return 2e3}static get DEBUG_ENABLED(){return!1}static get DEBUG_FRAME_FREQUENCY(){return 10}static get RENDER_TAG__PATH(){return"path"}constructor(t){this.canvasManager=t,this.#V=()=>{},this.layers=new F,window.addEventListener("focus",this),window.addEventListener("blur",this),t.registerListener(A.EVENT__REBOOT,this.#$.bind(this)),t.registerListener(A.EVENT__DISABLE,this.#Y.bind(this))}handleEvent(t){"blur"!==t.type&&"focus"!==t.type||(this.#z=void 0)}#$(){this.#B=!0}#Y(){this.#q=!0}setDisableAnimationsCallback(t,e){return this.#V=t,this.#G=e,this}initialize(t){}drawFrame(t){if(U.FRAME_DELAY_TOLERANCE!==1/0&&void 0!==this.#z&&document.hasFocus()&&performance.now()-this.#z>U.FRAME_DELAY_TOLERANCE||this.#q)return this.#V.call(this.#G),!1;if(this.#B&&(this.#B=!1,this.canvasManager.reboot(),this.layers.reboot(),this.#j=!1),!this.#j)return this.#j=!0,this.initialize(t),!0;this.#H=(this.#H+1)%U.DEBUG_FRAME_FREQUENCY,U.DEBUG_ENABLED&&0===this.#H&&console.log("START FRAME: "+t+"ms"),this.#W=U.DRAWERS_PER_FRAME_LIMIT;try{this.layers.forEach((e=>this.#X(e,t)))}catch(t){if("Frame timed out."!==t)return console.error(t),!1}this.canvasManager.render(),U.DEBUG_ENABLED&&0===this.#H&&console.log("FRAME DURATION: "+this.#K(t));const e=this.layers.hasActiveAnimation();return U.DEBUG_ENABLED&&!1===e&&(console.log("COMPLETE"),console.log(this)),this.#z=e?performance.now():void 0,e}#X(t,e){const i=t.getCanvas();U.DEBUG_ENABLED&&0===this.#H&&console.log("  Layer: "+t.id),this.#J(t.nibMap,t.drawerList,i,e),this.#Z(t.drawerList,i,e,t)}#J(t,e,i,n){t.tick(e,i,n)}#Z(t,e,i,n){for(;t.someCanDraw(i)&&this.#W>0;){let r=t.pickNoMoreThanNDrawable(this.#W,i);this.#W-=r.size(),r.getUniqueTags().toSpliced(-1,0,void 0).forEach((s=>this.#Q(s,r,t,e,i,n)))}}#Q(t,e,i,n,r,s){const a=void 0===t?e.filterByNoTags():e.filterByTag(t);t!==U.RENDER_TAG__PATH&&a.forEach((t=>t.draw(r,n)));const o=this;M(a,(t=>t.drawer.canvasStyler)).forEach((t=>{if(n.getContext("2d").beginPath(),t.forEach((t=>t.draw(r,n))),n.getContext("2d").stroke(),U.DEBUG_ENABLED&&0===o.#H&&console.log("    Drew "+t.length+" lines (nibMap.size = "+s.nibMap.size+", drawerList.length = "+s.drawerList.size()),o.#tt(r))throw"Frame timed out."}))}#tt(t){if(U.FRAME_TIMEOUT===1/0)return!1;const e=this.#K(t),i=e>U.FRAME_TIMEOUT;return U.DEBUG_ENABLED&&i&&console.log("FRAME TIMED OUT AFTER "+e+"ms WHICH EXCEEDED "+U.FRAME_TIMEOUT+"ms"),i}#K(t){return performance.now()-t}}class j{canvasStyler;uniquifyingId;constructor(t){this.uniquifyingId=t||""}addToNibMap(t){const e=this.toString();return!t.has(e)&&!t.hasInNullMap(e)&&(t.set(e,this),!0)}setCanvasStyler(t){return this.canvasStyler=t,this}toString(){return"n:"+this.uniquifyingId}pushOneTimeDrawerToDrawerList(t,e,i,n,r,s,a,o){const l=this;t.push(new N(n,s,r.setCanvasStyler(this.canvasStyler),o).registerListener(N.EVENT__FINISHED,(function(e,i,n){t.deleteItem(n),(a||(()=>{})).call(l,e,i,n)})))}isActive(){throw new Error("Method 'isActive()' must be implemented.")}tick(t,e,i,n){throw new Error("Method 'tick()' must be implemented.")}}Object.assign(j.prototype,_),Object.assign(j.prototype,n);class B extends L{vector2D;constructor(t){super(),this.vector2D=t}getRenderTags(){return[U.RENDER_TAG__PATH]}draw(t,e,i){this.applyCanvasStyle(i);const n=i.getContext("2d"),r=this.vector2D.end(t),s=this.vector2D.end(e);n.moveTo(r.x,r.y),n.lineTo(s.x,s.y)}}class q extends j{#et;#it;#nt;#rt;#st;#at;#ot;static createStarOfNibsAroundPoint(t,e,i,n,r,s,a,o,l,c){return a<=0?[]:function(t,e,i){for(var n=[],r=2/(i-1),s=0;s<i;s++)n.push(0+r*s);return n}(0,0,e+1).slice(0,-1).map((t=>new f(t))).map((r=>new q(t,r,e,i,n,a,l,c).setCanvasStyler(o))).filter((t=>t.addToNibMap(s)))}getStatuses(){return["init","waiting","drawing","done"]}constructor(t,e,i,n,r,s,a,o){super(o),this.#et=t,this.#it=e,this.#nt=i,this.#rt=n,this.#st=r,this.#at=s,this.#ot=a}addToNibMap(t){const e=this.toString(),i=this.getInverted().toString(),n=t.has(e)||t.hasInNullMap(e),r=t.has(i)||t.hasInNullMap(i);let s=!1;return n||r||(t.set(e,this),s=!0),r||t.set(i,null),s}toString(){return super.toString()+":l2s:"+this.getVector2D().toString()}getVector2D(){return new p(new d(this.#rt,this.#it),this.#et)}getInverted(){const t=this.getVector2D().getInverted();return new q(t.start(),t.angle(),this.#nt,this.#rt,this.#st,this.#at,this.#ot,this.uniquifyingId)}isActive(){return["init","drawing"].includes(this.getStatus())}tick(t,e,i,n){if(["drawing","done"].includes(this.getStatus()))return;if(!i.getVisibleRect().pad(this.#rt).containsPoint(this.#et))return void(!this.#ot||this.#et.x<0||this.#et.y<0||!i.getMaximumPossibleRect().pad(this.#rt).containsPoint(this.#et)?(this.setStatus("done"),e.set(this.toString(),null)):this.setStatus("waiting"));this.setStatus("drawing");const r=this;t.push(new N(n,this.#st,new B(this.getVector2D()).setCanvasStyler(this.canvasStyler)).registerListener(N.EVENT__FINISHED,(function(n,s,a){r.setStatus("done"),t.deleteItem(a),e.set(r.toString(),null),q.createStarOfNibsAroundPoint(a.drawer.vector2D.end(),r.#nt,r.#rt,r.#st,t,e,r.#at-1,a.drawer.canvasStyler,r.#ot,r.uniquifyingId).forEach((r=>r.tick(t,e,i,n-s)))})))}}Object.assign(q.prototype,t);class H extends L{draw(t,e,i){}}class W extends j{getStatuses(){return["init","drawing","done"]}makeDrawer(t){throw new Error("Method 'makeDrawer()' must be implemented.")}onFinished(t,e,i,n,r){t.deleteItem(e),i.delete(this.toString())}isActive(){return"done"!==this.getStatus()}tick(t,e,i,n){if("init"!==this.getStatus())return;this.setStatus("drawing");const r=this,s=this.makeDrawer(n);s.drawer.setCanvasStyler(this.canvasStyler),s.registerListener(N.EVENT__FINISHED,(function(i,n,s){r.setStatus("done"),r.onFinished(t,s,e,i,n)})),t.push(s)}}Object.assign(W.prototype,t);class z extends W{#lt;#ct;#ht;constructor(t,e,i){super(),this.#lt=t,this.#ct=e,this.#ht=i}toString(){return super.toString()+":w:"+this.#lt.toFixed(0)}makeDrawer(t){return new N(t,this.#lt,new H)}onFinished(t,e,i,n,r){super.onFinished(t,e,i,n,r),this.#ct.call(this.#ht,n,r)}}class V{setUpCanvasFn;constructor(t){this.setUpCanvasFn=t}applyToCanvas(t){t.getContext("2d").restore(),t.getContext("2d").save(),this.setUpCanvasFn(t)}}class G{angle;id;#ut;#dt;#pt;#mt;constructor(t,e,i,n){this.angle=t,this.id=e,this.#ut=i,this.#dt=n}setFlipped(t){return this.#pt=t,this}flip(){return this.#pt}setBaseChanger(t){return this.#mt=t,this}withSouthAs(t){return this.#mt.call(this,t)}toString(){return this.id}movePoint(t,e){return e=e||1,new w(t.x+this.#ut*e,t.y+this.#dt*e)}}const $=new G(new g(270),"N",0,-1),Y=new G(new g(0),"E",1,0),X=new G(new g(90),"S",0,1),K=new G(new g(180),"W",-1,0);$.setFlipped(X),X.setFlipped($),Y.setFlipped(K),K.setFlipped(Y),$.setBaseChanger((t=>t.flip())),Y.setBaseChanger((t=>{switch(t){case $:return K;case Y:return $;case X:return Y;case K:return X;default:throw new Error("Unsupported Direction")}})),X.setBaseChanger((t=>t)),K.setBaseChanger((t=>{switch(t){case $:return Y;case Y:return X;case X:return K;case K:return $;default:throw new Error("Unsupported Direction")}}));const J=[$,Y,X,K];class Z extends L{drawers;constructor(t){super(),this.drawers=t}getRenderTags(){return 0===this.drawers.length?[]:this.drawers.slice(1).map((t=>t.getRenderTags())).reduce(((t,e)=>JSON.stringify(t)===JSON.stringify(e)?t:[]),this.drawers.slice(0,1).pop().getRenderTags())}setCanvasStyler(t){return this.canvasStyler=t,this.drawers.forEach((e=>{e.setCanvasStyler(t)})),this}applyCanvasStyle(t){return this.drawers.forEach((e=>{e.applyCanvasStyle(t)})),this}draw(t,e,i){this.drawers.forEach((n=>{n.draw(t,e,i)}))}}class Q extends L{vector2D;constructor(t){super(),this.vector2D=t}draw(t,e,i){const n=this.vector2D.end(t).round(),r=this.vector2D.end(e).round();this.#gt(n.x,n.y,r.x,r.y,((t,e)=>i.registerPixelToWrite(new w(t,e),new s(0,0,0,255))))}#gt(t,e,i,n,r){Math.abs(n-e)<Math.abs(i-t)?t>i?this.#ft(i,n,t,e,r):this.#ft(t,e,i,n,r):e>n?this.#wt(i,n,t,e,r):this.#wt(t,e,i,n,r)}#ft(t,e,i,n,r){let s=i-t,a=n-e,o=1;a<0&&(o=-1,a=-a);let l=2*a-s,c=e;for(let e=t;e<=i;e++)r.call(this,e,c),l>0?(c+=o,l+=2*(a-s)):l+=2*a}#wt(t,e,i,n,r){let s=i-t,a=n-e,o=1;s<0&&(o=-1,s=-s);let l=2*s-a,c=t;for(let t=e;t<=n;t++)r.call(this,c,t),l>0?(c+=o,l+=2*(s-a)):l+=2*s}}class tt extends j{#yt;#et;#bt;#vt;#Et;#Tt;#St;#At;#Dt;static get WALL_WIDTH(){return 1}getStatuses(){return["init","waiting","drawing","done"]}constructor(t,e,i,n,r,s){super(s),this.#yt=t,this.#et=e,this.#bt=i,this.#vt=n,this.#Et=r,this.#Tt=new w(Math.floor(e.x/this.#vt),Math.floor(e.y/this.#vt)),this.#St=new Map,this.#At=new Map,this.#Dt=new v(this.#Tt.x*this.#vt,this.#Tt.y*this.#vt,this.#vt,this.#vt)}toString(){return super.toString()+":maze:"+this.#vt+":"+this.#Tt.toString()}isActive(){return["init","drawing"].includes(this.getStatus())}#xt(t){return!t.getVisibleRect().pad(this.#vt).containsRect(this.#Mt())}#Mt(){return this.#Dt}#Ct(t){const e=new Map;J.forEach((i=>{const n=this.#Rt(i).toString();e.set(n,t.get(n))}));const i=new Map;J.forEach((t=>{if(void 0!==this.getWall(t))return void this.#At.set(t,!0);const n=e.get(t),r=n?n.getWall(t.flip()):void 0;void 0!==r?(this.setWall(t,n.getWall(t.flip())),this.#At.set(t,r)):t===this.#bt?this.setWall(t,!1):i.set(t,!0)}),this),Array.from(this.#yt.calculateGridWalls(this.#Tt,this.#et,i,this.#St,this.#bt).entries()).forEach((([t,i])=>{this.setWall(t,i),e.get(t)&&e.get(t).setWall(t.flip(),i)}))}#Rt(t){return new tt(this.#yt,t.movePoint(this.#et,this.#vt),t.flip(),this.#vt,this.#Et,this.uniquifyingId)}getWall(t){return this.#St.get(t)}setWall(t,e){return this.#St.set(t,e)}#Ot(t){switch(t){case $:return new Q(new p(new d(this.#vt,Y.angle),this.#Mt().topLeft()));case Y:return new Q(new p(new d(this.#vt,X.angle),this.#Mt().topRight()));case X:return new Q(new p(new d(this.#vt,K.angle),this.#Mt().bottomRight()));case K:return new Q(new p(new d(this.#vt,$.angle),this.#Mt().bottomLeft()))}}tick(t,e,i,n){if(["drawing","done"].includes(this.getStatus()))return;if("init"===this.getStatus()&&(this.#Ct(e),U.DEBUG_ENABLED)){const r=new Q(this.#yt.line.toBoundVector());this.pushOneTimeDrawerToDrawerList(t,e,i,n,r,1),r.setCanvasStyler(new V((t=>{const e=t.getContext("2d");e.strokeStyle="rgba(255, 0, 0, 0.2)",e.lineWidth=1})))}if(this.#xt(i))return void this.setStatus("waiting");this.setStatus("drawing");const r=this;this.pushOneTimeDrawerToDrawerList(t,e,i,n,new Z(Array.from(this.#St.entries()).filter((([t,e])=>e)).filter((([t,e])=>!0!==r.#At.get(t))).map((([t,e])=>r.#Ot(t)))),this.#Et,((n,s,a)=>{r.setStatus("done"),Array.from(r.#St.entries()).filter((([t,e])=>!e)).map((([t,e])=>r.#Rt(t).setCanvasStyler(a.drawer.canvasStyler))).filter((t=>t.addToNibMap(e))).forEach((r=>r.tick(t,e,i,n-s)))}))}}Object.assign(tt.prototype,t),new class{#Lt=new Map;constructor(){window.addEventListener("keydown",this.#kt.bind(this)),window.addEventListener("keyup",this.#_t.bind(this))}#kt(t){this.#Lt.set(t.key,!0)}#_t(t){return this.#Lt.set(t.key,!1),this}isKeyPressed(t){return this.#Lt.get(t)||!1}};class et{line;minDistance;maxDistance;#Nt=6e3;#Pt=2;constructor(t,e,i){this.line=t,this.minDistance=e,this.maxDistance=i}calculateGridWalls(t,e,i,n,r){const s=e.projectsOntoLineAt(this.line),o=this.line.startPoint.distanceToPoint(s)/this.line.length(),c=e.distanceToPoint(s),h=(u=this.maxDistance)+o*(this.minDistance-u);var u;const d=K.withSouthAs(r),p=$.withSouthAs(r),m=Y.withSouthAs(r),f=function(t,e,i){const n=[];return t.forEach(((t,i,r)=>{const s=e.call(undefined,t,i,r);if(l(s)&&!(s<=0))for(let e=0;e<s;e++)n.push(t)})),n}([[3,1,.3,new Map([[d,!1],[p,!1],[m,!1]])],[2,2,.4,new Map([[d,!1],[p,!0],[m,!1]])],[2,2,.4,new Map([[d,!1],[p,!1],[m,!0]])],[2,2,.4,new Map([[d,!0],[p,!1],[m,!1]])],[1,2,.9999,new Map([[d,!0],[p,!1],[m,!0]])],[1,2,.9999,new Map([[d,!1],[p,!0],[m,!0]])],[1,2,.9999,new Map([[d,!0],[p,!0],[m,!1]])],[0,1,1+Number.EPSILON,new Map([[d,!0],[p,!0],[m,!0]])]].filter((([t,e,i,n])=>o<i),this).filter((([t,e,i,n])=>this.#Pt+t-1<=this.#Nt),this).filter((([t,e,i,r])=>{let s=!0;return Array.from(r.entries()).forEach((([t,e])=>{void 0!==n.get(t)&&n.get(t)!==e&&(s=!1)})),s})).map((([t,e,i,n])=>[t,Array.from(n.entries()).reduce(((t,[e,i])=>t||!1===i&&e.angle.withinSectorCentredOn(this.line.angle(),new g(45))),!1)?8*e:e,n])),(([t,e,i,n])=>e)),w=Math.min(Math.abs(c/h),1),y=(v=function(t){return 0!==(e=void 0===(e=w)?.5:e)&&(e>=1||0===Math.floor(Math.random()*(1/e)))?1-Number.EPSILON:Math.min(function(t){return t*t*t*t}(t),1-Number.EPSILON);var e},(b=f)[a(0,b.length-1,v)]);var b,v;return this.#Pt=this.#Pt-1+y[0],y[2]}}class it{startPoint;endPoint;#it;constructor(t,e){this.startPoint=t,this.endPoint=e}angle(){return void 0===this.#it&&(this.#it=this.startPoint.angleToPoint(this.endPoint)),this.#it}length(){return this.startPoint.distanceToPoint(this.endPoint)}distanceToPoint(t){return t.distanceToLine(this)}toBoundVector(){return p.createFromPoints(this.startPoint,this.endPoint)}}class nt extends L{drawers;#It;constructor(t){super(),this.drawers=Array.from(t),this.#It=1/this.drawers.length}getRenderTags(){return 0===this.drawers.length?[]:this.drawers.slice(1).map((t=>t.getRenderTags())).reduce(((t,e)=>JSON.stringify(t)===JSON.stringify(e)?t:[]),this.drawers.slice(0,1).pop().getRenderTags())}setCanvasStyler(t){return this.canvasStyler=t,this.drawers.forEach((e=>{e.setCanvasStyler(t)})),this}applyCanvasStyle(t){return this.drawers.forEach((e=>{e.applyCanvasStyle(t)})),this}draw(t,e,i){if(t===e)return;const n=c(0,Math.floor(t/this.#It),this.drawers.length-1),r=c(0,Math.floor((e-Number.EPSILON)/this.#It),this.drawers.length-1);for(let a=n;a<=r;a++)this.drawers[a].draw(n<a?0:t%this.#It/this.#It,a<r?1:(s=(e-Number.EPSILON)%this.#It/this.#It,Math.abs(1-s)<1e-15?1:s),i);var s}}class rt extends nt{constructor(t,e,i){const n=[];let r;t.getPoints(((t,e)=>{if(void 0!==r){const e=p.createFromPoints(r,t);n.push(new B(e))}r=t}),null,e,i),n.push(new B(p.createFromPoints(t.getPoint(i||t.numberOfSides-1),t.getPoint(e||0)))),super(n)}}class st{centrePoint;radius;numberOfSides;#Ft=[];constructor(t,e,i){this.centrePoint=t,this.radius=e,this.numberOfSides=i}getPoint(t){return t%=this.numberOfSides,void 0!==this.#Ft[t]||(this.#Ft[t]=new w(this.centrePoint.x+this.radius*Math.cos(t*u/this.numberOfSides),this.centrePoint.y+this.radius*Math.sin(t*u/this.numberOfSides))),this.#Ft[t]}getPoints(t,e,i,n){if((i=void 0===i?0:i)>(n=void 0===n?this.numberOfSides-1:n))throw new Error("Start index should be lower than end index.");if(t||this.#Ft.length<this.numberOfSides)for(let r=0;r<this.numberOfSides;r++)this.getPoint(r),t&&i<=r&&r<=n&&t.call(e,this.getPoint(r),r);return this.#Ft.slice(i,n+1)}toString(){return this.numberOfSides+this.centrePoint.toString()+this.radius}}class at extends j{#Ut;#jt;#Bt;#qt;#ot;getStatuses(){return["init","waiting","drawing","done"]}constructor(t,e,i,n,r){super(r),this.#Ut=t,this.#Bt=0,this.#jt=e,this.#qt=i,this.#ot=n}toString(){return super.toString()+":poly:"+this.#Ut.toString()}isActive(){return["init","drawing"].includes(this.getStatus())}#xt(t){return this.#Ht().containsRect(t.getVisibleRect())}#Ht(){const t=new g(45).asRadians().value(),e=Math.cos(t),i=Math.sin(t),n=this.#Ut.radius+this.#Bt,r=new w(2*(this.#Ut.centrePoint.x-e*n),2*(this.#Ut.centrePoint.y-i*n)),s=new w(2*(this.#Ut.centrePoint.x+e*n),2*(this.#Ut.centrePoint.y+i*n));return new v(r.x,r.y,s.x-r.x,s.y-r.y)}tick(t,e,i,n){if(["drawing","done"].includes(this.getStatus()))return;if(this.#xt(i))return void this.setStatus(this.#ot?"waiting":"done");this.setStatus("drawing");const r=this;this.pushOneTimeDrawerToDrawerList(t,e,i,n,new rt(new st(this.#Ut.centrePoint,this.#Ut.radius+r.#Bt,this.#Ut.numberOfSides)),this.#jt,((n,s)=>{r.setStatus("init"),r.#Bt+=r.#qt,r.tick(t,e,i,n-s)}))}}Object.assign(at.prototype,t);class ot{static LEFT="left";static CENTRE="centre";static RIGHT="right";static TOP="top";static MIDDLE="middle";static BOTTOM="bottom";horizontal;vertical;constructor(t,e){this.horizontal=t,this.vertical=e}getLeft(t,e,i){switch(this.horizontal){case ot.LEFT:return 0;case ot.CENTRE:return t/2-i.scaleX(e)/2;case ot.RIGHT:return t-i.scaleX(e);default:throw new Error("Unrecognized horizontal direction")}}getTop(t,e,i){switch(this.vertical){case ot.TOP:return 0;case ot.MIDDLE:return t/2-i.scaleY(e)/2;case ot.BOTTOM:return t-i.scaleY(e);default:throw new Error("Unrecognized vertical direction")}}}class lt{anchor;widthLengthValue;heightLengthValue;#Wt;#zt;constructor(t,e,i,n){this.anchor=t,this.widthLengthValue=e,this.heightLengthValue=i,this.#Wt=n}initialize(t,e){return t.style.position="relative",e.style.position="absolute",[ot.LEFT,ot.RIGHT].includes(this.anchor.horizontal)&&(e.style[this.anchor.horizontal]="0px"),[ot.TOP,ot.BOTTOM].includes(this.anchor.vertical)&&(e.style[this.anchor.vertical]="0px"),this}place(t,e,i){i=i||T.createIdentity();const n=this.getRectWithinParent(t,i);return this.#zt&&this.#zt.isEqualTo(n)||(this.#zt=n,this.anchor.horizontal===ot.CENTRE&&(e.style.left=n.x+"px"),this.anchor.vertical===ot.MIDDLE&&(e.style.top=n.y+"px"),e.width=n.width,e.height=n.height),n}getRectWithinParent(t,e){const i=t===window||t===document||t===document.documentElement?new v(0,0,document.documentElement.clientWidth,this.#Wt?document.body.getBoundingClientRect().height:document.documentElement.clientHeight):t.getBoundingClientRect();return this.getRectForDimensions(i,this.widthLengthValue.getValue(i.width),this.heightLengthValue.getValue(i.height),e)}getRectForDimensions(t,e,i,n){return new v(this.anchor.getLeft(t.width,e,n),this.anchor.getTop(t.height,i,n),n.scaleX(e),n.scaleY(i))}}class ct extends E{#i;constructor(t){super(),this.#i=t}getValue(t){return c(0,t*this.#i,t)}}class ht extends E{#i;#Vt;static HEIGHT="HEIGHT";static WIDTH="WIDTH";static vw(t){return new ht(t,ht.WIDTH).getValue()}static vh(t){return new ht(t,ht.HEIGHT).getValue()}constructor(t,e){super(),this.#i=t,this.#Vt=e}getValue(t){const e=this.#Gt();return c(0,e*this.#i,e)}#Gt(){switch(this.#Vt){case ht.WIDTH:return document.documentElement.clientWidth;case ht.HEIGHT:return document.documentElement.clientHeight;default:throw new Error("Unrecognized viewportDimension")}}}class ut extends U{#$t=!1;#Yt;constructor(t){super(t)}initialize(t){let e,i,n;super.initialize(t),[e,i,n]=this.#Xt();const r=new V((t=>{const e=t.getContext("2d");e.strokeStyle="rgba(0, 0, 0, 0.2)",e.lineWidth=1})),s=new V((t=>{const e=t.getContext("2d");e.lineWidth=10,e.globalCompositeOperation="destination-out"})),a=new V((t=>{const e=t.getContext("2d");e.strokeStyle="rgba(0, 0, 0, 1)",e.lineWidth=1}));let o=0;const l=t=>(o+=(this.#$t?10:200)*t,o);this.#$t||document.querySelectorAll(".arrive-with-anim-stage").forEach((t=>t.style.opacity=0)),this.#Kt(0),this.#$t||this.#Jt()||(this.#Zt(i,l(6),r),this.#Qt(i,l(1),s)),e.nibMap.addNib(new z(2e3,(()=>this.#Kt(1)),this)),this.#te(e,l(7)),e.nibMap.addNib(new z(4e3,(()=>this.#Kt(2)),this)),e.nibMap.addNib(new z(6e3,(()=>this.#Kt(3)),this)),e.nibMap.addNib(new z(8e3,(()=>this.#Kt(4)),this)),this.#ee(n,l(24),l(4),a),this.#ie(i,l(8),r),e.nibMap.addNib(new z(12e3,(()=>this.#Kt(5)),this)),this.#$t=!0}#Zt(t,e,i){t.nibMap.addNib(new z(e,(()=>{q.createStarOfNibsAroundPoint(new w(t.getCanvas().getVisibleRect().bottomRight().x-80,0),6,12,7,t.drawerList,t.nibMap,200,i,!1,"grid")})))}#Qt(t,e,i){t.nibMap.addNib(new z(e,(()=>{t.nibMap.addNib(new at(new st(new w(t.getCanvas().getVisibleRect().bottomRight().x-80,0),10,4),5,9,!1,"grid").setCanvasStyler(i).registerListener("status",(e=>{"waiting"!==e.status&&"done"!==e.status||t.clear()})))})))}#ie(t,e,i){const n=ht.vw(1),r=n>1e3?330:.3*n;t.nibMap.addNib(new z(e,(()=>{q.createStarOfNibsAroundPoint(new w(t.getCanvas().getVisibleRect().bottomRight().x-.333*r,0),6,12,60,t.drawerList,t.nibMap,Math.floor(r/12),i,!0,"bg")})))}#te(t,e){const i=new ht(.1,ht.WIDTH).getValue(),n=.66666*i,r=new w(i,80);t.nibMap.addNib(new z(e,(()=>{t.nibMap.addNib(new tt(new et(new it(r,r.move(300,X.angle)),30,n),r,$,6,80))})))}#ee(t,e,i,n){const r=t.getCanvas().getVisibleRect().bottomRight();let s=[new w(r.x-130,0),new w(r.x-80,0),new w(r.x-115,0)].sort((()=>.5-Math.random()));s[0].y=r.y-80,s[1].y=r.y-180,s[2].y=r.y-260,t.nibMap.addNib(new z(e,(()=>{q.createStarOfNibsAroundPoint(s.shift(),5,15,20,t.drawerList,t.nibMap,3,n,"snow")}))),t.nibMap.addNib(new z(i,(()=>{q.createStarOfNibsAroundPoint(s.shift(),7,12,20,t.drawerList,t.nibMap,3,n,"snow")}))),t.nibMap.addNib(new z(i,(()=>{q.createStarOfNibsAroundPoint(s.shift(),5,8,20,t.drawerList,t.nibMap,3,n,"snow")})))}#Xt(){return[this.layers.add("left",this.canvasManager,new lt(new ot(ot.LEFT,ot.TOP),new ct(.2),new ct(1))),this.layers.add("top-right",this.canvasManager,new lt(new ot(ot.RIGHT,ot.TOP),new ct(1),new ct(1),!0)),this.layers.add("bottom-right",this.canvasManager,new lt(new ot(ot.RIGHT,ot.BOTTOM),new ct(.2),new ht(1,ht.HEIGHT)),new T((()=>1/c(.5,ht.vw(.4)/400,1))))]}#Kt(t){const e=this.canvasManager.getParentElement();e&&(e.classList.add("anim-stage-"+t),document.querySelectorAll(".arrive-with-anim-stage-"+t).forEach((t=>{t.classList.contains("shown")||(t.classList.add("shown"),t.style.opacity=1,t.style.pointerEvents="auto")})),document.querySelectorAll(".leave-with-anim-stage-"+t).forEach((t=>{t.classList.contains("hidden")||(t.classList.add("hidden"),t.style.opacity=0,t.style.pointerEvents="none",setTimeout((()=>{t.style.display="none"}),2e3))})))}#Jt(){if(void 0!==this.#Yt)return this.#Yt;let t=!1;var e;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),this.#Yt=t,this.#Yt}}function dt(t,e){window.location.assign([window.location.origin,window.location.pathname,(()=>{const i=new URLSearchParams(window.location.search);return t.call(e,i),(Array.from(i.entries()).length>0?"?":"")+i.toString()})()].join(""))}class pt{#ne;#re;#se;#ae;#ht;#oe;#le;#ce;#he;static ANIMATION_LAG_MS=800;constructor(t,e,i,n,r){this.#ne=t,this.#re=e,this.#le=c(pt.ANIMATION_LAG_MS/1e3,(e-pt.ANIMATION_LAG_MS)/1e3,1/0),this.#se=i,this.#ae=n,this.#ht=r,this.#ne.addEventListener("mouseenter",this.#ue.bind(this)),this.#ne.addEventListener("mouseleave",this.#de.bind(this))}#ue(){void 0===this.#oe&&this.#se.call(this.#ht,this.#ne)&&(this.#pe(),this.#oe=window.setTimeout(this.#me.bind(this),this.#re))}#me(){this.#ge(),this.#ae.call(this.#ht,this.#ne)}#de(t){this.clearTimer()}#pe(){return this.#ge(),this.#ce=this.#fe(),this.#ne.style.position="relative",this.#ne.appendChild(this.#ce),window.setTimeout((()=>{this.#ce&&(this.#ce.style.opacity=.5,this.#ce.style.setProperty(this.#he,"100%"))}),pt.ANIMATION_LAG_MS),this}#ge(){if(this.#ce)return this.#ce.remove(),this.#ce=void 0,this}#fe(){this.#he="--progress-"+"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16))),window.CSS.registerProperty({name:this.#he,syntax:"<percentage>",inherits:!1,initialValue:"0%"});const t=document.createElement("span");return t.setAttribute("role","presentation"),t.classList.add("timer"),t.style.cssText=`\n      pointer-events: none;\n      position: absolute;\n      right: 10px;\n      bottom: 10px;\n      width: 10px;\n      height: 10px;\n      clip-path: circle();\n      ${this.#he}: 0;\n      transition:${this.#he} ${this.#le}s linear;\n      background: conic-gradient(black var(${this.#he}), white var(${this.#he}));\n      opacity: 0;\n    `,t}clearTimer(){void 0!==this.#oe&&(this.#ge(),window.clearTimeout(this.#oe),this.#oe=void 0)}}class mt{group;#we;#ye;#be;#ve;#Ee;#Te=!1;#Se=!1;#Ae=!1;static GROUPS;static HOVER_TO_CLICK_MS=2500;static attach(){String.prototype.includes.call(window.location.search,"da")||(mt.GROUPS=new Map,document.querySelectorAll("details").forEach((t=>{const e=t.getAttribute("name")||t.getAttribute("data-name");t.removeAttribute("name");const i=new mt(t,e);e&&(mt.GROUPS.has(e)||mt.GROUPS.set(e,[]),mt.GROUPS.set(e,mt.GROUPS.get(e).concat(i)))})))}static detach(){String.prototype.includes.call(window.location.search,"da")||document.querySelectorAll("details").forEach((t=>{t.dispatchEvent(new CustomEvent("detachAccordion",{bubbles:!1,cancelable:!1}))}))}static onGroupOpening(t,e){(mt.GROUPS.get(e)||[]).filter((e=>e!==t)).forEach((t=>t.close()))}constructor(t,e){this.#we=t,this.#ye=t.querySelector("summary"),this.#be=t.querySelector(".content"),this.group=e,this.#ve=null,this.#Te=!1,this.#Se=!1,this.#ye.addEventListener("click",this.#De.bind(this)),Number.isFinite(mt.HOVER_TO_CLICK_MS)&&(this.#Ee=new pt(this.#ye,mt.HOVER_TO_CLICK_MS,this.#xe,this.#me,this)),this.#we.open=this.#we.hasAttribute("data-open"),-1==this.#we.getAttribute("tabIndex")&&this.#we.removeAttribute("tabIndex"),this.#Me(this.#we.open),this.#we.addEventListener("detachAccordion",this.#Ce.bind(this))}#De(t){t.preventDefault(),this.#Ae||(this.#Te||!this.#we.open?this.open():(this.#Se||this.#we.open)&&this.shrink())}#xe(){return!this.#Ae&&(!this.#we.open||this.#Te)}#me(){this.#Ae||(this.#ye.focus({preventScroll:!0,focusVisible:!1}),this.open())}#Ce(){this.#Ae=!0,this.#we.open=!0,this.#we.setAttribute("tabIndex",-1),this.#ve&&this.#ve.cancel(),this.#Ee&&this.#Ee.clearTimer(),mt.GROUPS.set(this.group,(mt.GROUPS.get(this.group)||[]).filter((t=>t!==this)))}close(){this.#Ae||(this.#Se||this.#we.open)&&this.shrink()}shrink(){if(this.#Ae)return;this.#we.style.overflow="hidden",this.#Te=!0,this.#we.classList.add("closing"),this.#we.classList.remove("open","closed");const t=`${this.#we.offsetHeight}px`,e=`${this.#ye.offsetHeight}px`;this.#Ee.clearTimer(),this.#ve&&this.#ve.cancel(),document.body.style.height=document.body.getBoundingClientRect().height+"px",document.body.classList.add("sliding-accordion"),this.#ve=this.#we.animate({height:[t,e]},{duration:400,easing:"ease-out"}),this.#ve.onfinish=()=>this.#Me(!1),this.#ve.oncancel=()=>{this.#Te=!1,this.#we.classList.remove("closing")}}open(){if(this.#Ae)return;if(this.#we.open&&!this.#Te)return;this.#Ee.clearTimer(),this.#we.style.overflow="hidden",this.#we.style.height=`${this.#we.offsetHeight}px`,this.#we.open=!0;const t=this;window.requestAnimationFrame((()=>{t.group&&mt.onGroupOpening(t,t.group),t.expand()}))}expand(){if(this.#Ae)return;this.#Ee.clearTimer(),this.#Se=!0,this.#we.classList.add("expanding"),this.#we.classList.remove("open","closed");const t=`${this.#we.offsetHeight}px`,e=`${this.#ye.offsetHeight+this.#be.offsetHeight}px`;this.#ve&&this.#ve.cancel(),document.body.style.height=document.body.getBoundingClientRect().height+"px",document.body.classList.add("sliding-accordion"),this.#ve=this.#we.animate({height:[t,e]},{duration:400,easing:"ease-out"}),this.#ve.onfinish=()=>this.#Me(!0),this.#ve.oncancel=()=>{this.#Se=!1,this.#we.classList.remove("expanding")}}#Me(t){this.#Ae||(this.#we.open=t,this.#ve=null,this.#Te=!1,this.#Se=!1,this.#we.classList.remove("closing","expanding"),this.#we.classList.add(t?"open":"closed"),this.#we.style.height=this.#we.style.overflow="",document.body.style.height="",document.body.classList.remove("sliding-accordion"))}}class gt{#Re;constructor(t){this.#Re=document.createElement("template"),this.#Re.innerHTML=t}getNodeList(){return this.#Re.content.childNodes}getNode(){const t=this.#Re.content.childNodes.length;if(1!==t)throw new Error(`html parameter must represent a single node; got ${t}. Note that leading or trailing spaces around an element in your HTML, like " <img/> ", get parsed as text nodes neighbouring the element; call .trim() on your input to avoid this.`);return this.#Re.content.firstChild}}function ft(){return"object"==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"object"==typeof process&&void 0!==process.version?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function wt(t,e,i,n){if("function"!=typeof i)throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(e)?e.reverse().reduce(((e,i)=>wt.bind(null,t,i,e,n)),i)():Promise.resolve().then((()=>t.registry[e]?t.registry[e].reduce(((t,e)=>e.hook.bind(null,t,n)),i)():i(n)))}function yt(t,e,i,n){const r=n;t.registry[i]||(t.registry[i]=[]),"before"===e&&(n=(t,e)=>Promise.resolve().then(r.bind(null,e)).then(t.bind(null,e))),"after"===e&&(n=(t,e)=>{let i;return Promise.resolve().then(t.bind(null,e)).then((t=>(i=t,r(i,e)))).then((()=>i))}),"error"===e&&(n=(t,e)=>Promise.resolve().then(t.bind(null,e)).catch((t=>r(t,e)))),t.registry[i].push({hook:n,orig:r})}function bt(t,e,i){if(!t.registry[e])return;const n=t.registry[e].map((t=>t.orig)).indexOf(i);-1!==n&&t.registry[e].splice(n,1)}const vt=Function.bind,Et=vt.bind(vt);function Tt(t,e,i){const n=Et(bt,null).apply(null,i?[e,i]:[e]);t.api={remove:n},t.remove=n,["before","error","after","wrap"].forEach((n=>{const r=i?[e,n,i]:[e,n];t[n]=t.api[n]=Et(yt,null).apply(null,r)}))}const St=function(){const t={registry:{}},e=wt.bind(null,t);return Tt(e,t),e};var At=`octokit-endpoint.js/0.0.0-development ${ft()}`;function Dt(t,e){const i=Object.assign({},t);return Object.keys(e).forEach((n=>{!function(t){if("object"!=typeof t||null===t)return!1;if("[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);if(null===e)return!0;const i=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Function.prototype.call(i)===Function.prototype.call(t)}(e[n])?Object.assign(i,{[n]:e[n]}):n in t?i[n]=Dt(t[n],e[n]):Object.assign(i,{[n]:e[n]})})),i}function xt(t){for(const e in t)void 0===t[e]&&delete t[e];return t}function Mt(t,e,i){if("string"==typeof e){let[t,n]=e.split(" ");i=Object.assign(n?{method:t,url:n}:{url:t},i)}else i=Object.assign({},e);var n;i.headers=(n=i.headers)?Object.keys(n).reduce(((t,e)=>(t[e.toLowerCase()]=n[e],t)),{}):{},xt(i),xt(i.headers);const r=Dt(t||{},i);return"/graphql"===i.url&&(t&&t.mediaType.previews?.length&&(r.mediaType.previews=t.mediaType.previews.filter((t=>!r.mediaType.previews.includes(t))).concat(r.mediaType.previews)),r.mediaType.previews=(r.mediaType.previews||[]).map((t=>t.replace(/-preview/,"")))),r}var Ct=/\{[^}]+\}/g;function Rt(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Ot(t,e){const i={__proto__:null};for(const n of Object.keys(t))-1===e.indexOf(n)&&(i[n]=t[n]);return i}function Lt(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map((function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t})).join("")}function kt(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function _t(t,e,i){return e="+"===t||"#"===t?Lt(e):kt(e),i?kt(i)+"="+e:e}function Nt(t){return null!=t}function Pt(t){return";"===t||"&"===t||"?"===t}function It(t,e){var i=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(t,n,r){if(n){let t="";const r=[];if(-1!==i.indexOf(n.charAt(0))&&(t=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach((function(i){var n=/([^:\*]*)(?::(\d+)|(\*))?/.exec(i);r.push(function(t,e,i,n){var r=t[i],s=[];if(Nt(r)&&""!==r)if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)r=r.toString(),n&&"*"!==n&&(r=r.substring(0,parseInt(n,10))),s.push(_t(e,r,Pt(e)?i:""));else if("*"===n)Array.isArray(r)?r.filter(Nt).forEach((function(t){s.push(_t(e,t,Pt(e)?i:""))})):Object.keys(r).forEach((function(t){Nt(r[t])&&s.push(_t(e,r[t],t))}));else{const t=[];Array.isArray(r)?r.filter(Nt).forEach((function(i){t.push(_t(e,i))})):Object.keys(r).forEach((function(i){Nt(r[i])&&(t.push(kt(i)),t.push(_t(e,r[i].toString())))})),Pt(e)?s.push(kt(i)+"="+t.join(",")):0!==t.length&&s.push(t.join(","))}else";"===e?Nt(r)&&s.push(kt(i)):""!==r||"&"!==e&&"?"!==e?""===r&&s.push(""):s.push(kt(i)+"=");return s}(e,t,n[1],n[2]||n[3]))})),t&&"+"!==t){var s=",";return"?"===t?s="&":"#"!==t&&(s=t),(0!==r.length?t:"")+r.join(s)}return r.join(",")}return Lt(r)})),"/"===t?t:t.replace(/\/$/,"")}function Ft(t){let e,i=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},t.headers),s=Ot(t,["method","baseUrl","url","headers","request","mediaType"]);const a=function(t){const e=t.match(Ct);return e?e.map(Rt).reduce(((t,e)=>t.concat(e)),[]):[]}(n);var o;n=(o=n,{expand:It.bind(null,o)}).expand(s),/^http/.test(n)||(n=t.baseUrl+n);const l=Ot(s,Object.keys(t).filter((t=>a.includes(t))).concat("baseUrl"));if(!/application\/octet-stream/i.test(r.accept)&&(t.mediaType.format&&(r.accept=r.accept.split(/,/).map((e=>e.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`))).join(",")),n.endsWith("/graphql")&&t.mediaType.previews?.length)){const e=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=e.concat(t.mediaType.previews).map((e=>`application/vnd.github.${e}-preview${t.mediaType.format?`.${t.mediaType.format}`:"+json"}`)).join(",")}return["GET","HEAD"].includes(i)?n=function(t,e){const i=/\?/.test(t)?"&":"?",n=Object.keys(e);return 0===n.length?t:t+i+n.map((t=>"q"===t?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${t}=${encodeURIComponent(e[t])}`)).join("&")}(n,l):"data"in l?e=l.data:Object.keys(l).length&&(e=l),r["content-type"]||void 0===e||(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(i)&&void 0===e&&(e=""),Object.assign({method:i,url:n,headers:r},void 0!==e?{body:e}:null,t.request?{request:t.request}:null)}function Ut(t,e,i){return Ft(Mt(t,e,i))}var jt=function t(e,i){const n=Mt(e,i),r=Ut.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:t.bind(null,n),merge:Mt.bind(null,n),parse:Ft})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":At},mediaType:{format:""}});class Bt extends Error{name;status;request;response;constructor(t,e,i){super(t),this.name="HttpError",this.status=Number.parseInt(e),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const n=Object.assign({},i.request);i.request.headers.authorization&&(n.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n}}async function qt(t){const e=t.request?.fetch||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const i=t.request?.log||console,n=!1!==t.request?.parseSuccessResponseBody,r=function(t){if("object"!=typeof t||null===t)return!1;if("[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);if(null===e)return!0;const i=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Function.prototype.call(i)===Function.prototype.call(t)}(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,s=Object.fromEntries(Object.entries(t.headers).map((([t,e])=>[t,String(e)])));let a;try{a=await e(t.url,{method:t.method,body:r,redirect:t.request?.redirect,headers:s,signal:t.request?.signal,...t.body&&{duplex:"half"}})}catch(e){let i="Unknown Error";if(e instanceof Error){if("AbortError"===e.name)throw e.status=500,e;i=e.message,"TypeError"===e.name&&"cause"in e&&(e.cause instanceof Error?i=e.cause.message:"string"==typeof e.cause&&(i=e.cause))}const n=new Bt(i,500,{request:t});throw n.cause=e,n}const o=a.status,l=a.url,c={};for(const[t,e]of a.headers)c[t]=e;const h={url:l,status:o,headers:c,data:""};if("deprecation"in c){const e=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),n=e&&e.pop();i.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${n?`. See ${n}`:""}`)}if(204===o||205===o)return h;if("HEAD"===t.method){if(o<400)return h;throw new Bt(a.statusText,o,{response:h,request:t})}if(304===o)throw h.data=await Ht(a),new Bt("Not modified",o,{response:h,request:t});if(o>=400)throw h.data=await Ht(a),new Bt(function(t){if("string"==typeof t)return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map((t=>JSON.stringify(t))).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}(h.data),o,{response:h,request:t});return h.data=n?await Ht(a):a.body,h}async function Ht(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch((()=>t.text())).catch((()=>"")):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}var Wt=function t(e,i){const n=e.defaults(i);return Object.assign((function(e,i){const r=n.merge(e,i);if(!r.request||!r.request.hook)return qt(n.parse(r));const s=(t,e)=>qt(n.parse(n.merge(t,e)));return Object.assign(s,{endpoint:n,defaults:t.bind(null,n)}),r.request.hook(s,r)}),{endpoint:n,defaults:t.bind(null,n)})}(jt,{headers:{"user-agent":`octokit-request.js/0.0.0-development ${ft()}`}}),zt=class extends Error{constructor(t,e,i){super("Request failed due to following response errors:\n"+i.errors.map((t=>` - ${t.message}`)).join("\n")),this.request=t,this.headers=e,this.response=i,this.errors=i.errors,this.data=i.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}name="GraphqlResponseError";errors;data},Vt=["method","baseUrl","url","headers","request","query","mediaType"],Gt=["query","method","url"],$t=/\/api\/v3\/?$/;function Yt(t,e){const i=t.defaults(e);return Object.assign(((t,e)=>function(t,e,i){if(i){if("string"==typeof e&&"query"in i)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const t in i)if(Gt.includes(t))return Promise.reject(new Error(`[@octokit/graphql] "${t}" cannot be used as variable name`))}const n="string"==typeof e?Object.assign({query:e},i):e,r=Object.keys(n).reduce(((t,e)=>Vt.includes(e)?(t[e]=n[e],t):(t.variables||(t.variables={}),t.variables[e]=n[e],t)),{}),s=n.baseUrl||t.endpoint.DEFAULTS.baseUrl;return $t.test(s)&&(r.url=s.replace($t,"/api/graphql")),t(r).then((t=>{if(t.data.errors){const e={};for(const i of Object.keys(t.headers))e[i]=t.headers[i];throw new zt(r,e,t.data)}return t.data.data}))}(i,t,e)),{defaults:Yt.bind(null,i),endpoint:i.endpoint})}Yt(Wt,{headers:{"user-agent":`octokit-graphql.js/0.0.0-development ${ft()}`},method:"POST",url:"/graphql"});var Xt=/^v1\./,Kt=/^ghs_/,Jt=/^ghu_/;async function Zt(t){const e=3===t.split(/\./).length,i=Xt.test(t)||Kt.test(t),n=Jt.test(t);return{type:"token",token:t,tokenType:e?"app":i?"installation":n?"user-to-server":"oauth"}}async function Qt(t,e,i,n){const r=e.endpoint.merge(i,n);return r.headers.authorization=function(t){return 3===t.split(/\./).length?`bearer ${t}`:`token ${t}`}(t),e(r)}var te=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if("string"!=typeof t)throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Zt.bind(null,t),{hook:Qt.bind(null,t)})};const ee="6.1.2",ie=()=>{},ne=console.warn.bind(console),re=console.error.bind(console),se=`octokit-core.js/${ee} ${ft()}`;class ae{static VERSION=ee;static defaults(t){return class extends(this){constructor(...e){const i=e[0]||{};super("function"!=typeof t?Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null):t(i))}}}static plugins=[];static plugin(...t){const e=this.plugins;return class extends(this){static plugins=e.concat(t.filter((t=>!e.includes(t))))}}constructor(t={}){const e=new St,i={baseUrl:Wt.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:e.bind(null,"request")}),mediaType:{previews:[],format:""}};var n;if(i.headers["user-agent"]=t.userAgent?`${t.userAgent} ${se}`:se,t.baseUrl&&(i.baseUrl=t.baseUrl),t.previews&&(i.mediaType.previews=t.previews),t.timeZone&&(i.headers["time-zone"]=t.timeZone),this.request=Wt.defaults(i),this.graphql=(n=this.request,Yt(n,{method:"POST",url:"/graphql"})).defaults(i),this.log=Object.assign({debug:ie,info:ie,warn:ne,error:re},t.log),this.hook=e,t.authStrategy){const{authStrategy:i,...n}=t,r=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:n},t.auth));e.wrap("request",r.hook),this.auth=r}else if(t.auth){const i=te(t.auth);e.wrap("request",i.hook),this.auth=i}else this.auth=async()=>({type:"unauthenticated"});const r=this.constructor;for(let e=0;e<r.plugins.length;++e)Object.assign(this,r.plugins[e](this,t))}request;graphql;log;hook;auth}class oe{static generateRandomBinaryByteString(t){return oe.byteArrayToBinaryByteString(oe.generateRandomByteArray(t))}static generateRandomByteArray(t){t=void 0===t?1:t;const e=Array(t);for(let i=0;i<t;i++)e.push(o());return e}static stringToBinaryByteString(t){return oe.byteArrayToBinaryByteString(oe.stringToByteArray(t))}static binaryByteStringToString(t){return oe.byteArrayToString(oe.binaryByteStringToByteArray(t))}static stringToByteArray(t){if("string"!=typeof t&&!t instanceof String)throw new Error("Value should be a string.");const e=[];for(var i=0;i<t.length;i++)e.push(t[i].charCodeAt(0).toString(2).padStart(8,"0"));return e}static byteArrayToString(t){return t.map((t=>String.fromCharCode(t))).join("")}static binaryByteStringToByteArray(t){return oe.validateBinaryByteString(t),t.match(/.{1,8}/g).map((t=>parseInt(t,2)))}static byteArrayToBinaryByteString(t){return t.map((t=>t.toString(2))).join("")}static validateBinaryByteString(t){if("string"!=typeof t&&!t instanceof String)throw new Error("Binary byte string should be a string.");if(null!==String.prototype.match.call(t,/[^0-9]/i))throw new Error("Binary byte string should be string of binary digits.");if(t.length%8!=0)throw new Error("Binary byte string should be a multiple of 8 characters long.")}}var le=i(838);class ce{static T="011001110110100101110100011010000111010101100010010111110111000001100001011101000101111100110001001100010100000101000001010001000101001101000010010010010100000100110000010011000111011101000010010100100100111001101101011011010110010101001010011100010100010101101111010111110101000001010010011010010110101101101111011001110100100001100100010010000011001101100110011101000101101001110110001101010110111100110100011011000111101000110001010101100011011101101100010101110111000101100011010001000111100001101111001100010100100101010101011001010111000101110001010010010101000101000100010100100011001101111000010001110101100101010001010101000100001001011000010010100011011101010110001101100011001001001000010101000111001100111001011001100101000001000111";#Oe;#Le;#ke;#_e;static attach(){document.querySelectorAll(".contact-message").forEach((t=>{new ce(t)}))}constructor(t){this.#Oe=t,document.body.appendChild(this.#Ne()),this.#Oe.addEventListener("click",this.#Pe.bind(this))}#Pe(t){this.#Le.showModal(),t.preventDefault()}#Ne(){return void 0!==this.#Le||(this.#Le=new gt('<dialog>\n      <form method="dialog" autocomplete="off">\n        <header>\n          <h3>Get in touch</h3>\n        </header>\n        <article class="dialog-content">\n          <div>\n            <label for="name-input">Name<span class="required">*</span></label>\n            <input id="name-input" name="name" type="text" autofocus required autocomplete="off" data-lpignore="true" data-1password-ignore="true" />\n          </div>\n          <div>\n            <label for="email-input">Email<span class="required">*</span></label>\n            <input id="email-input" name="email" type="email" autofocus required autocomplete="off" data-lpignore="true" data-1password-ignore="true" />\n          </div>\n          <div>\n            <label for="message-input">Message<span class="required">*</span></label>\n            <textarea id="message-input" name="message" required rows="5" autocomplete="off" data-lpignore="true" data-1password-ignore="true" ></textarea>\n          </div>\n          <input style="display: none !important;" id="url-input" name="url" type="text" />\n        </article>\n        <footer>\n          <button formnovalidate>Cancel</button>\n          <input class="primary" type="submit" value="Send" />\n        </footer>\n      </form>\n    </dialog>').getNode(),this.#Le.querySelector("button").addEventListener("click",this.#Ie.bind(this)),this.#ke=this.#Le.querySelector("form"),this.#ke.addEventListener("submit",this.#Fe.bind(this)),this.#_e=this.#Le.querySelector("article.dialog-content")),this.#Le}#Ie(t){t.preventDefault(),this.#Le&&this.#Le.close()}#Fe(t){if(t.preventDefault(),!this.#ke)return void this.#Le.close();this.#ke.querySelector('input[type="submit"]').remove(),this.#ke.querySelector("button").innerText="Close";const e=this.#_e,i=new FormData(this.#ke);if(!["",null].includes(i.get("url")))return void(e.innerHTML='<p class="error">We are sorry, but there was a problem sending this message. Please email <a href="mailto:james@threespires.io">james@threespires.io</a>.</p>');const n=this.#Ue();e.innerHTML='<p class="loading">Sending email</p>',new ae({auth:oe.binaryByteStringToString(ce.T)}).request("POST /repos/{owner}/{repo}/issues",{owner:"jamsilver",repo:"threespires",title:"["+(new Date).toUTCString()+"] Contact form submission from "+le.sanitize(i.get("email"),{ALLOWED_TAGS:[]}),body:n}).catch((t=>{e.innerHTML='<p class="error">We are sorry, but an unexpected error occured while sending this message. Please email <a href="mailto:james@threespires.io">james@threespires.io</a>.</p>'})).then((t=>{e.innerHTML='<p class="success">Message sent. Thank you for contacting us, we will be in touch shortly.</p>'}))}#Ue(){return this.#ke?le.sanitize(Array.from(new FormData(this.#ke).entries()).map((([t,e])=>String.prototype.toUpperCase.call(t)+"\n"+e)).join("\n\n"),{ALLOWED_TAGS:[]}):""}}!function(){const t="da";if(String.prototype.includes.call(window.location.search,t))return void(document.referrer.includes(window.location.hostname)||function(t,e,i){const n=[];let r;window.requestAnimationFrame||e.call(i,!1);const s=()=>{void 0!==r&&n.push(performance.now()-r),r=performance.now();const a=n.length<10;if(a)window.requestAnimationFrame(s);else{const r=n.reduce(((t,e)=>t+e))/n.length;e.call(i,r<t)}return a};s()}(U.FRAME_DELAY_TOLERANCE,(e=>{e&&dt((e=>{e.delete(t)}))})));const e=()=>{dt((e=>{e.set(t,1)}))},i=[t=>new ut(t)];window.addEventListener("load",(function(){var t;new D((t=i,t[a(0,t.length-1,undefined)])(new A(document.body,document.documentElement)).setDisableAnimationsCallback(e)).start()}))}();const he=()=>{document.documentElement.clientWidth>=800?mt.detach():mt.attach()};window.addEventListener("load",(function(){window.addEventListener("resize",e(he,250)),he(),ce.attach()}))})()})();